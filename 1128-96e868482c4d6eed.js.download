"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1128],{6568:(e,t,r)=>{r.d(t,{ED:()=>n,SL:()=>i,fO:()=>o,n2:()=>l,tA:()=>d});var s=r(96784);r(27062);var a=r(7620);let l=e=>2e3*e.document_asset.page_count,i=e=>Math.min(1600,Math.ceil(e.preview_asset.image_width*e.preview_asset.image_height/700)),n=e=>e.reduce((e,t)=>e+i(t),0),o=(e,t,r)=>{let l=(0,s.F)(e),i=(0,a.useMemo)(()=>r.map(e=>e.extracted_content).join(" "),[r]);return l+(0,s.F)(i)+n(t)},d=(e,t)=>e/t>.4},7386:(e,t,r)=>{r.d(t,{Iq:()=>Z,NM:()=>V,M1:()=>et,NG:()=>er,G:()=>el});var s=r(42977),a=r(54568),l=r(61125),i=r(9537),n=r(90510),o=r(1385),d=r(29242);let c=e=>{if(!e.preview_asset)return!1;let{image_width:t,image_height:r}=e.preview_asset;return t<200||r<200};var u=r(91961),h=r(23661),m=r(4705),x=r(76761),p=r(32987),f=r(37463),g=r(49645),b=r(7620),v=r(62971),j=r(18179),y=r(37076),w=r(21777),N=r(71526),_=r(38583),A=r(77186),k=r(1761),M=r(71473),C=function(e){return e.Generic="generic",e.Csv="csv",e.Excel="excel",e}({});function S(e){let{isOpen:t,setIsOpen:r,fileName:s,fileUuid:l}=e,{data:i,isLoading:n}=function(e){let{fileUuid:t,enabled:r}=e,{activeOrganization:s}=(0,k.YL)(),a=null==s?void 0:s.uuid;return(0,A.Sk)("/api/organizations/".concat(a,"/files/").concat(t,"/content_preview"),{queryKey:[M.aI,{orgUuid:a,fileUuid:t}],enabled:!!s&&r})}({fileUuid:l,enabled:t}),o=null;return o=n?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(j.Loading,{size:"md"})}):i?i.file_type===C.Csv?(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"bg-bg-100 w-[15rem] h-[12.5rem] rounded-lg border border-border-400 mb-5",children:[(0,a.jsxs)("div",{className:"h-[2.25rem] text-text-100 font-medium border-b border-border-400 px-3 flex items-center",children:[(0,a.jsx)(N.o,{className:"mr-2",size:16}),(0,a.jsx)("div",{children:(0,a.jsx)(v.A,{defaultMessage:"Columns",id:"SUa8mpheAG"})})]}),(0,a.jsx)(w.E,{className:"h-[10.25rem] w-[15rem] pt-3 px-3 pb-1 text-text-200",children:i.column_names.map((e,t)=>(0,a.jsx)("div",{className:"truncate mb-2",children:e},t))})]}),(0,a.jsx)("div",{className:"text-lg text-text-100 mb-2",children:(0,a.jsx)(v.A,{defaultMessage:"{columnCount, plural, one {# column} other {# columns}}, {rowCount, plural, one {# row} other {# rows}}",id:"wvGBF/FvBd",values:{columnCount:i.column_count,rowCount:i.row_count}})}),(0,a.jsxs)("div",{className:"flex items-center text-text-300 text-xs",children:[(0,a.jsx)(_.R,{className:"mr-2",size:12}),(0,a.jsx)("div",{children:(0,a.jsx)(v.A,{defaultMessage:"Claude can analyze CSVs with the Analysis tool.",id:"gtvz8LDd6q"})})]})]}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(v.A,{defaultMessage:"File previews are not supported for this file type",id:"99ghrgx5j8"})}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(v.A,{defaultMessage:"Could not load file preview",id:"ATy/CxAxS4"})}),(0,a.jsx)(y.aF,{isOpen:t,hasCloseButton:!0,title:s,onClose:()=>r(!1),className:"w-[40rem] h-[24rem]",modalSize:"xl",children:o})}var E=r(34098),L=r(36906);let I=e=>{let{file:t,isOpen:r,onClose:s}=e,l=(0,b.useMemo)(()=>(0,E.E)(t),[t]);return(0,a.jsx)("div",{children:(0,a.jsx)(y.aF,{modalSize:"xl",isOpen:!!r,onClose:s,hasCloseButton:!0,title:l.title,subtitle:(0,a.jsx)(L.G,{showPDFWarning:"pdf"===t.file_type,metaData:l.metaData}),children:(0,a.jsx)("div",{className:"bg-bg-000 rounded-lg border-0.5 border-border-300 shadow-sm whitespace-pre-wrap break-all text-xs p-4 font-mono",children:t.extracted_content})})})};var z=r(41417),D=r(46760);function T(){let e=(0,s._)(["\n  rounded-md\n  overflow-hidden\n  shadow-[0_4px_32px_hsl(var(--always-black)/30%),_0_0_0_0.5px_hsl(var(--always-black)/25%)]\n"]);return T=function(){return e},e}let P=e=>{let{file:t,isOpen:r,onClose:s}=e,l=(0,D.A)();return(0,a.jsx)(y.I_,{isOpen:!!r,onClose:s,className:"max-w-[40rem] px-3 pb-14 pt-3",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(z.$,{className:"hover:!text-text-100 !ring-border-200 !absolute left-full top-0 ml-1.5 !text-always-white !ring-offset-0",variant:"ghost",size:"icon_sm","aria-label":l.formatMessage({defaultMessage:"Close image preview",id:"gylVBxmE7Z"}),onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},option:"rounded","data-testid":"close-file-preview",children:(0,a.jsx)(x.X,{size:"16"})}),(0,a.jsx)(R,{children:(0,a.jsx)("img",{src:t.preview_asset.url,width:t.preview_asset.image_width,height:t.preview_asset.image_height,onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},alt:l.formatMessage({defaultMessage:"Preview of {fileName}",id:"djtHiJ5aej"},{fileName:t.file_name}),onDragStart:e=>e.preventDefault(),className:"block w-full max-h-[calc(100vh-4rem)]"})}),(0,a.jsx)("div",{style:{textShadow:"0 0 8px hsl(var(--always-black)/25%)"},className:"pt-1.5 text-center text-always-white",children:t.file_name})]})})},R=n.J.div(T());var G=r(23338);function F(e){let{isOpen:t,setIsOpen:r,documentFile:s}=e,l=(0,D.A)();return(0,a.jsx)(y.aF,{isOpen:t,hasCloseButton:!0,title:s.file_name,onClose:()=>r(!1),children:(0,a.jsxs)("a",{className:"self-center group text-center",href:"".concat(s.document_asset.url,"/").concat(s.file_name),target:"_blank",children:[(0,a.jsxs)("div",{className:"w-fit rounded-lg relative m-2 mt-8",children:[(0,a.jsx)("img",{className:"bg-always-white rounded-lg border border-border-300 group-hover:border-accent-secondary-000/70 shadow-sm group-hover:-rotate-1 transition",alt:l.formatMessage({defaultMessage:"{fileName} thumbnail",id:"1bEhiGnHtL"},{fileName:s.file_name}),src:s.thumbnail_asset.url,style:{width:s.thumbnail_asset.image_width/1.5,height:s.thumbnail_asset.image_height/1.5}}),(0,a.jsx)("div",{className:"absolute w-full h-full inset-0 group-hover:bg-gradient-to-t from-accent-secondary-200/5 to-60% group-hover:-rotate-1 transition rounded-lg"}),(0,a.jsx)(e=>{let{pageCount:t}=e;return t<=1?null:(0,a.jsxs)("div",{className:"*:absolute *:w-full *:bg-always-white *:rounded-lg *:group-hover:border-accent-secondary-100/50 *:transition-all *:border *:border-border-300",children:[(0,a.jsx)("div",{className:"h-[98%] ml-1 group-hover:ml-[5px] group-hover:rotate-2 -z-10 shadow-sm top-[1%] opacity-70"}),(0,a.jsx)("div",{className:"h-[96%] ml-2 group-hover:ml-[10px] group-hover:rotate-3 group-hover:top-[2%]  -z-20 shadow top-[2%] opacity-50"})]})},{pageCount:s.document_asset.page_count})]}),(0,a.jsxs)("div",{className:"relative text-center inline-flex items-center justify-center text-pretty gap-2 p-1 text-sm text-text-300 *:transition",children:[(0,a.jsx)("p",{className:"group-hover:opacity-0 group-hover:scale-75",children:(0,a.jsx)(v.A,{defaultMessage:"{count, plural, one {# page} other {# pages}}",id:"RyCW0gT/7M",values:{count:s.document_asset.page_count}})}),(0,a.jsxs)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 inline-flex items-center justify-center gap-1 text-accent-secondary-000",children:[(0,a.jsx)(G.K,{size:16,weight:"fill",className:"scale-50 group-hover:scale-100 transition-all "}),(0,a.jsx)("p",{children:(0,a.jsx)(v.A,{defaultMessage:"Download",id:"5q3qC0sC3r"})})]})]})]})})}function O(){let e=(0,s._)(["\n  min-w-0\n  h-[18px] \n  flex \n  flex-row \n  items-center \n  justify-center\n  gap-0.5\n  px-1 \n  border-0.5\n  border-border-300/25\n  shadow-sm\n  rounded\n  bg-bg-000/70\n  backdrop-blur-sm\n  font-medium\n"]);return O=function(){return e},e}function U(e){return e.file_name.match(/paste(-\d+)?\.txt/)}function W(e){if("file_kind"in e){if(!e.file_name)return;let t=e.file_name.split(".");return t.length>1?t[t.length-1]:void 0}if(U(e))return"pasted";{if("text/plain"===e.file_type)return"txt";if("text/html"===e.file_type)return"html";if(""===e.file_name)return"";let t=e.file_name.match(/\.[^.]+$/);return t&&(0,l.cm)({imagesEnabled:!0}).includes(t[0].toLowerCase())?t[0].slice(1):"text"}}let H=e=>{let{handleClick:t,isInSelectionMode:r,handleSelect:s}=e,[a,l]=(0,b.useState)(!1);return{onClick:()=>{r&&s?s(!0,!1):t?t():l(!0)},isPreviewOpen:a,setIsPreviewOpen:l}},B={icon:{height:28,width:28},normal:{height:120,width:120},stretch:{height:120,width:"100%"}},q=e=>e&&B[e]?B[e]:B.normal,V=e=>{let{file:t,isEditable:r,showWarnings:s,...l}=e;if("file_kind"in t)switch(t.file_kind){case h.M.Image:return(0,a.jsx)(K,{...l,file:t,showWarnings:s,isEditable:r});case h.M.Blob:return(0,a.jsx)(X,{...l,file:t,isEditable:r});case h.M.SanitizedDocument:return(0,a.jsx)(J,{...l,file:t,isEditable:r});case h.M.WiggleVM:return(0,a.jsx)(Y,{...l,file:t,isEditable:r})}return(0,a.jsx)($,{...l,file:t,isEditable:r})},K=e=>{let{disabled:t,size:r,file:s,showWarnings:l,handleRemove:i,handleClick:n,isSelected:o,handleSelect:d,isInSelectionMode:u,isEditable:h}=e,{height:m,width:x}=q(r),{onClick:f,isPreviewOpen:g,setIsPreviewOpen:b}=H({handleClick:n,isInSelectionMode:u,handleSelect:d}),v=l&&c(s);return(0,a.jsxs)("div",{className:"relative group/thumbnail",children:[(0,a.jsxs)("div",{"data-testid":s.file_name,style:{width:x,height:m,minWidth:x,minHeight:m},className:(0,p.A)("rounded-lg overflow-hidden can-focus-within rounded-lg",!t&&"cursor-pointer"),children:[(0,a.jsx)(Q,{"data-testid":"file-thumbnail",disabled:t,width:x,height:m,fileName:s.file_name,src:s.preview_asset.url,onClick:f}),(0,a.jsx)(ei,{isAbsolute:!0,right:v?(0,a.jsx)(eo,{type:"warning",tooltipText:"Attach a higher resolution image for better results"}):void 0,isSelected:o,handleSelect:d,isEditable:h}),(0,a.jsx)(P,{file:s,isOpen:g,onClose:()=>b(!1)}),(0,a.jsx)("div",{className:(0,p.A)("transition-colors absolute pointer-events-none top-0 left-0 right-0 bottom-0 rounded-lg shadow-always-white/40 shadow-[inset_0_0_0_2px_var(--tw-shadow-color)]",!t&&"group-hover/thumbnail:shadow-always-white/60")})]}),(0,a.jsx)(ed,{disabled:t,handleRemove:i,isEditable:h,isInSelectionMode:u})]})},X=e=>{let{file:t,handleClick:r,...s}=e,{onClick:l,isPreviewOpen:i,setIsPreviewOpen:n}=H({handleClick:r,isInSelectionMode:s.isInSelectionMode,handleSelect:s.handleSelect}),o=W(t);return(0,a.jsxs)("div",{children:[(0,a.jsx)(Z,{...s,"data-testid":t.file_name,title:t.file_name,handleClick:l,tag:!!o&&(0,a.jsx)(en,{tagName:o,tooltipText:o?"Claude can analyze ".concat(o.toUpperCase()," files with the analysis tool."):"Claude can analyze this file with the Analysis tool."})}),(0,a.jsx)(S,{isOpen:i,setIsOpen:n,fileName:t.file_name,fileUuid:t.file_uuid})]})},$=e=>{let{file:t,handleClick:r,...s}=e,{onClick:l,isPreviewOpen:i,setIsPreviewOpen:n}=H({handleClick:r,isInSelectionMode:s.isInSelectionMode,handleSelect:s.handleSelect}),o=U(t),d=o?"Pasted Text":t.file_name,c=t.extracted_content.split("\n").length,u=(0,a.jsx)(v.A,{defaultMessage:"{count, plural, one {# line} other {# lines}}",id:"AFTxeGB4qO",values:{count:c}}),h=t.extracted_content.substring(0,300),m=W(t);return(0,a.jsxs)("div",{children:[(0,a.jsx)(Z,{...s,"data-testid":t.file_name,...o?{text:h}:{title:d,subtitle:u},handleClick:l,tag:!!m&&(0,a.jsx)(en,{tagName:m,tooltipText:"pdf"===t.file_type?"PDF converted to text":void 0})}),(0,a.jsx)(I,{file:t,isOpen:i,onClose:()=>n(!1)})]})},J=e=>{let{disabled:t,size:r,file:s,handleRemove:l,handleClick:i,isSelected:n,handleSelect:o,isInSelectionMode:d,isEditable:c}=e,{height:u,width:h}=q(r),{onClick:m,isPreviewOpen:x,setIsPreviewOpen:f}=H({handleClick:i,isInSelectionMode:d,handleSelect:o}),g=W(s);return(0,a.jsxs)("div",{className:"group/thumbnail relative",children:[(0,a.jsxs)("div",{"data-testid":s.file_name,style:{width:h,height:u,minWidth:h,minHeight:u},className:(0,p.A)("rounded-lg overflow-hidden border-0.5 border-border-300/25 shadow-sm shadow-always-black/5 can-focus-within rounded-lg",!t&&"cursor-pointer hover:border-border-200/50 hover:shadow-always-black/10"),children:[(0,a.jsx)(Q,{disabled:t,width:"100%",height:"100%",fileName:s.file_name,src:s.thumbnail_asset.url,onClick:m}),(0,a.jsx)(ei,{isSelected:n,handleSelect:o,isAbsolute:!0,left:g?(0,a.jsx)(en,{tagName:g}):void 0,isEditable:c}),(0,a.jsx)(F,{isOpen:x,setIsOpen:f,documentFile:s})]}),(0,a.jsx)(ed,{disabled:t,handleRemove:l,isEditable:c,isInSelectionMode:d})]})},Y=e=>{let{file:t,...r}=e,s=W(t);return(0,a.jsx)("div",{children:(0,a.jsx)(Z,{...r,"data-testid":t.file_name,title:t.file_name,handleClick:()=>{},tag:!!s&&(0,a.jsx)(en,{tagName:s})})})},Q=e=>{let{disabled:t,width:r,height:s,fileName:l,src:i,onClick:n}=e,[o,d]=(0,b.useState)(!1);return(0,a.jsx)("button",{className:"relative bg-bg-000",style:{width:r,height:s},disabled:t,onClick:n,children:(0,a.jsx)("img",{className:(0,p.A)("w-full h-full object-cover transition duration-400",o?"opacity-1":"opacity-0 blur-sm"),onLoad:()=>d(!0),alt:l,src:i,onDragStart:e=>e.preventDefault()})})},Z=e=>{let{disabled:t,size:r,handleClick:s,url:l,title:i,subtitle:n,text:o,isLoading:d=!1,tag:c,actions:u,isError:h,handleRemove:m,isEditable:x,isSyncing:g,handleSelect:b,isSelected:v,isInSelectionMode:j}=e,y=!!(s||l),{height:w,width:N}=q(r);return(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)(f.P.div,{className:"group/thumbnail",whileHover:x||g||j?"actionsVisible":void 0,animate:j||g?"actionsVisible":"initial","data-testid":"file-thumbnail",children:[(0,a.jsxs)(ee,{url:l,handleClick:s,disabled:t,width:N,height:w,isClickable:y,isLoading:d,isError:h,children:[(0,a.jsxs)("div",{className:"relative flex flex-col gap-1 min-h-0",children:[o?(0,a.jsx)("div",{className:"max-w-full overflow-hidden absolute h-[112px] [mask-image:linear-gradient(to_bottom,hsl(var(--always-black)/80%)_0%,_hsl(var(--always-black)/10%)_100%)]",children:(0,a.jsx)(f.P.p,{initial:{opacity:0},animate:{opacity:1},className:"text-[8px] text-text-100 break-words",children:o})}):h||i&&!d?(0,a.jsx)(f.P.h3,{initial:{opacity:0},animate:{opacity:1},inherit:!1,className:(0,p.A)("text-[12px] tracking-tighter break-words",h?"text-text-500":"text-text-100",n?"line-clamp-3":"line-clamp-4"),children:i}):(0,a.jsx)(es,{}),!!n&&!d&&!h&&(0,a.jsx)(f.P.p,{initial:{opacity:0},animate:{opacity:1},inherit:!1,className:"text-[10px] line-clamp-1 tracking-tighter break-words text-text-500",children:n})]}),d?(0,a.jsx)(ea,{}):(0,a.jsx)(ei,{isSelected:v,handleSelect:b,left:c,right:h&&(0,a.jsx)(eo,{type:"error"}),actions:u,isEditable:x})]}),(0,a.jsx)(ed,{disabled:t,handleRemove:m,isEditable:x,isInSelectionMode:j})]})})},ee=e=>{let{children:t,disabled:r,width:s,height:l,handleClick:i,url:n,isClickable:o,isLoading:d,isError:c}=e;return i?(0,a.jsx)("button",{disabled:r,style:{width:s,height:l,minWidth:s},className:(0,p.A)("rounded-lg text-left block",!r&&"cursor-pointer","font-ui transition-all rounded-lg border-0.5 border-border-300/25 flex flex-col justify-between gap-2.5 overflow-hidden px-2.5 py-2",c?"bg-danger-200/5":d?"bg-bg-100":"bg-bg-000",o&&!d&&!r&&"hover:border-border-200/50 hover:shadow-always-black/10",!d&&"shadow-sm shadow-always-black/5"),onClick:i,children:t}):n?(0,a.jsx)("a",{style:{width:s,height:l,minWidth:s},className:(0,p.A)("rounded-lg text-left block",!r&&"cursor-pointer","font-ui transition-all rounded-lg border-0.5 border-border-300/25 flex flex-col justify-between gap-2.5 overflow-hidden px-2.5 py-2",c?"bg-danger-200/5":d?"bg-bg-100":"bg-bg-000",o&&!d&&!r&&"hover:border-border-200/50 hover:shadow-always-black/10",!d&&"shadow-sm shadow-always-black/5"),href:r?void 0:n,target:"_blank",children:t}):(0,a.jsx)("div",{style:{width:s,height:l,minWidth:s},className:(0,p.A)("rounded-lg text-left block",!r&&"cursor-pointer","font-ui transition-all rounded-lg border-0.5 border-border-300/25 flex flex-col justify-between gap-2.5 overflow-hidden px-2.5 py-2",c?"bg-danger-200/5":d?"bg-bg-100":"bg-bg-000",o&&!d&&!r&&"hover:border-border-200/50 hover:shadow-always-black/10",!d&&"shadow-sm shadow-always-black/5"),children:t})},et=e=>{let{file:t}=e,r=W(t);return(0,a.jsx)("div",{className:"w-[38px] h-[38px] min-w-[38px] font-ui rounded-lg border-0.5 border-border-300/25 shadow-sm shadow-always-black/5 flex items-center justify-center overflow-hidden bg-bg-000",children:!!r&&(0,a.jsx)("p",{className:"font-bold uppercase font-ui text-text-300 text-[9px] tracking-tighter pt-0.5",children:r})})},er=e=>{let{size:t,tag:r,isShown:s=!0}=e,{width:l}=q(t);return(0,a.jsx)(g.N,{children:!!s&&(0,a.jsx)(f.P.div,{initial:{opacity:0,maxWidth:0},animate:{opacity:1,maxWidth:l},children:(0,a.jsx)(Z,{isLoading:!0,tag:r,size:t})})})},es=()=>(0,a.jsxs)(f.P.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full flex flex-col",children:[(0,a.jsx)(o.j,{width:"100%",height:"12px",className:"mt-1 !bg-border-400 !rounded after:!via-always-white/50"}),(0,a.jsx)(o.j,{width:"66%",height:"12px",className:"mt-1 !bg-border-400 !rounded after:!via-always-white/50"})]}),ea=()=>(0,a.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsx)(o.j,{width:"48px",height:"18px",className:"mt-1 !bg-border-400 !rounded after:!via-always-white/50"})}),el=n.J.div(O()),ei=e=>{let{isAbsolute:t=!1,left:r,right:s,actions:l,handleSelect:n,isSelected:o,isEditable:d}=e,c=!!r,u=!!s||!!n;return c||u?(0,a.jsx)("div",{className:(0,p.A)(t&&"absolute bottom-2 left-0 right-0 px-2.5 overflow-x-hidden overflow-y-visible"),children:(0,a.jsxs)("div",{className:(0,p.A)("relative flex flex-row items-center gap-1",u&&!c?"justify-end":"justify-between"),children:[c&&(0,a.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-row gap-1 shrink min-w-0",children:r}),u&&(0,a.jsxs)("div",{className:"flex flex-row gap-1 shrink-0",children:[s,!!n&&!!d&&(0,a.jsxs)(f.P.div,{variants:{actionsVisible:{opacity:1,position:"relative"},initial:{opacity:0,position:"absolute"}},className:"flex flex-row gap-1 h-[18px] right-0 top-0",onClick:e=>e.stopPropagation(),transition:{ease:"easeOut",duration:.2},children:[l,(0,a.jsx)(i.Sc,{checked:o,onChange:n,label:"Select file",hideLabel:!0,className:(0,p.A)("!w-[18px] !h-[18px] !border-0.5 !border-border-300/25 !shadow-sm !rounded"),size:12})]})]})]})}):null},en=e=>{let{tagName:t,tooltipText:r,className:s}=e,l=(0,a.jsx)(el,{className:s,children:(0,a.jsx)("p",{className:"uppercase truncate font-ui text-text-300 text-[11px] leading-[13px]",children:t})});return r?(0,a.jsx)(d.m,{tooltipContent:r,children:l}):l},eo=e=>{let{type:t,tooltipText:r,className:s}=e,l=(0,a.jsx)(el,{className:(0,p.A)("shrink-0","error"===t?"text-danger-000 border-danger-200/50 bg-danger-900":"text-warning-orange border-warning-orange/50 bg-bg-000/70",s),children:(0,a.jsx)(m.N,{size:12})});return r?(0,a.jsx)(d.m,{tooltipContent:r,children:l}):l},ed=e=>{let{disabled:t,handleRemove:r,isEditable:s,isInSelectionMode:l}=e;return!r||!s||l||t?null:(0,a.jsx)(d.m,{tooltipContent:(0,a.jsx)(v.A,{defaultMessage:"Remove",id:"G/yZLul6P1"}),side:"bottom",children:(0,a.jsx)("button",{className:(0,p.A)("transition-all hover:bg-bg-000/50 text-text-500 hover:text-text-200 group-focus-within/thumbnail:opacity-100 group-hover/thumbnail:opacity-100 opacity-0 w-5 h-5 absolute -top-2 -left-2 rounded-full border-0.5 border-border-300/25 bg-bg-000/90 backdrop-blur-sm flex items-center justify-center",(0,u.Fr)()&&"!opacity-100 !bg-bg-000/50"),onClick:e=>{e.stopPropagation(),e.preventDefault(),r()},children:(0,a.jsx)(x.X,{size:12,weight:"bold"})})})}},13488:(e,t,r)=>{r.d(t,{Y:()=>O,y:()=>X});var s=r(54568),a=r(10158),l=r(34059),i=r(41417),n=r(91926),o=r(18179),d=r(29242),c=r(29585),u=r(46612);let h=e=>new Intl.NumberFormat().format(e);var m=r(77101),x=r(69751),p=r(69055),f=r(99272),g=r(55956),b=r(10654),v=r(73325),j=r(76761),y=r(65400),w=r(4705),N=r(84713),_=r(14985),A=r(32987),k=r(49645),M=r(37463),C=r(92012),S=r.n(C),E=r(27261),L=r.n(E),I=r(39124),z=r(7620),D=r(62971),T=r(46760),P=r(71436),R=r(73114);let G="lastSelectedRepo";function F(e,t){return{name:e,path:t.endsWith("/")?t:t+"/",size:0,children:new Map}}function O(e){var t,r;let{initialConfig:a,tokenLimit:l,alreadyUsedTokens:i,onSubmit:n,isSubmitting:o}=e,[d,c]=(0,z.useState)("/"),h=void 0===a,m=l*u.Pu,[x,p]=(0,z.useState)(()=>{if(a)return a;let e=function(){let e=localStorage.getItem(G);if(e){var t;let r=JSON.parse(e);if(r&&"object"==typeof(t=r)&&null!==t&&"string"==typeof t.owner&&"string"==typeof t.repo&&"string"==typeof t.branch)return r}return null}();return e?{owner:e.owner,repo:e.repo,branch:e.branch,filters:{filters:{}}}:{}}),{owner:f,repo:g,branch:b,filters:v}=x;(0,z.useEffect)(()=>{c("/")},[g]);let j=e=>{p({owner:f,repo:g,branch:b,filters:{filters:e}})},y=(0,z.useMemo)(()=>!S()(null==a?void 0:a.filters,v),[a,v]),{data:w,isFetching:N,error:_}=(0,P.tn)({owner:f,repo:g,branch:b}),A=(0,z.useMemo)(()=>(function(e,t){if(!t||!e)return[];let r=[];for(let s of t.tree)"blob"===s.type&&(0,R.R4)(e,"/"+s.path)&&r.push(s);return r})(null==v?void 0:v.filters,w.tree),[null==v?void 0:v.filters,w.tree]),k=Math.ceil(100*A.map(e=>e.size).reduce((e,t)=>e+t,0)/m)+Math.ceil(100*i/l),M=(0,z.useMemo)(()=>w.tree?function(e){let t={name:"",path:"/",size:0,children:new Map};for(let r of e.tree){let e=r.path.split("/"),s=e.pop(),a=t;for(let t=0;t<e.length;t++){let s=e[t];if(!a.children.has(s)){let r="/"+e.slice(0,t+1).join("/");a.children.set(s,F(s,r))}"blob"===r.type&&(a.size+=r.size),a=a.children.get(s)}if("blob"===r.type)a.children.set(s,{name:s,path:"/"+r.path,size:r.size}),a.size+=r.size;else a.children.set(s,F(s,"/"+r.path))}return t}(w.tree):null,[w.tree]);(0,z.useEffect)(()=>{(null==w?void 0:w.repo)&&(null==w?void 0:w.repo.default_branch)&&!b&&p(e=>({...e,branch:w.repo.default_branch}))},[null==w?void 0:w.repo,b,p]),(0,z.useEffect)(()=>{f&&g&&b&&localStorage.setItem(G,JSON.stringify({owner:f,repo:g,branch:b}))},[f,g,b]);let[C,E]=(0,z.useState)("");return(0,s.jsxs)("div",{className:"rounded-xl border-0.5 border-border-300 bg-bg-000 shadow-sm h-[600px] flex flex-col",children:[(0,s.jsx)(B,{isCreating:h,config:x,setConfig:p,searchQuery:C,setSearchQuery:E,isSubmitting:o,percentUsed:k,onSubmit:n,areFiltersDirty:y,enforceSizeLimit:!0}),N?(0,s.jsx)(W,{}):null!==_?(0,s.jsx)(H,{error:_}):g&&f&&b?C?(0,s.jsx)($,{rootNode:M,searchQuery:C,filters:null!=(t=null==v?void 0:v.filters)?t:{},setFilters:j,sizeLimit:m,setCurrentDirectory:c,setSearchQuery:E,enforceSizeLimit:!0}):(0,s.jsx)(X,{repo:g,rootNode:M,filters:null!=(r=null==v?void 0:v.filters)?r:{},setFilters:j,sizeLimit:m,currentDirectory:d,setCurrentDirectory:c,enforceSizeLimit:!0}):(0,s.jsx)(U,{}),(0,s.jsx)(J,{percentUsed:k,selectedPaths:A,alreadyUsedTokens:i,tokenLimit:l,enforceSizeLimit:!0})]})}function U(){return(0,s.jsx)("div",{className:"flex items-center justify-center h-full bg-bg-000 text-sm text-text-300 border-border-300 border-t-0.5",children:(0,s.jsx)(D.A,{defaultMessage:"Select a repository or paste a URL above to get started",id:"aGsfPG9sTD"})})}let W=()=>(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 h-full bg-bg-000 shadow-sm text-sm text-text-300",children:[(0,s.jsx)("div",{children:(0,s.jsx)(o.Loading,{size:"sm"})}),(0,s.jsx)(D.A,{defaultMessage:"Fetching repository...",id:"hnjVW1oRt2"})]});function H(e){let{error:t}=e,{githubAppUrl:r}=(0,a._r)(),l="".concat(r,"/installations/select_target"),i=t instanceof c.LG&&404===t.statusCode,n=t instanceof c.LG&&"github_get_tree_api_call_limit_exceeded"===t.errorCode;return(0,s.jsx)("div",{className:"flex h-full bg-bg-000 text-sm text-text-300 border-border-300 border-t-0.5",children:(0,s.jsx)("div",{className:"flex items-center gap-2 m-6",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.t,{size:16}),(0,s.jsx)("span",{children:(0,s.jsx)(D.A,{defaultMessage:"Claude cannot access that resource. If you know that it exists, you may first need to grant or request access <link>here</link>.",id:"41xNOZpKM8",values:{link:e=>(0,s.jsx)(L(),{href:l,target:"_blank",className:"underline",children:e})}})})]}):n?(0,s.jsx)("span",{className:"text-danger-000",children:(0,s.jsx)(D.A,{defaultMessage:"Please try a smaller repo.",id:"lvImCTHUvN"})}):(0,s.jsx)("span",{className:"text-danger-000",children:(0,s.jsx)(D.A,{defaultMessage:"An error occurred while fetching that resource. Please try again.",id:"u8OHhkIcYv"})})})})}function B(e){var t,r;let{config:a,setConfig:n,isCreating:o,isSubmitting:d,percentUsed:c,searchQuery:u,setSearchQuery:h,onSubmit:x,areFiltersDirty:f,enforceSizeLimit:g}=e,[b,v]=(0,z.useState)(!1),[j,y]=(0,z.useState)(!1);return(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center py-2 min-h-14 px-4 font-base border-b-0.5 border-border-300",children:[(0,s.jsx)(l.A9,{size:18,type:m.v8.GITHUB,className:"flex-shrink-0"}),!b&&(0,s.jsx)(q,{config:a,setConfig:n,isCreating:o}),(0,s.jsxs)("div",{className:"inline-flex gap-0 items-center",children:[(0,s.jsx)(V,{isCreating:o,isExpanded:b,setIsExpanded:v,setConfig:n,className:(0,A.A)({"flex-1 flex-shrink":o&&b})}),a.repo&&!b&&(0,s.jsx)(K,{isExpanded:j,setIsExpanded:y,searchQuery:u,setSearchQuery:h,className:"flex-1 flex-shrink"})]}),(0,s.jsx)(k.N,{children:!b&&a.repo&&!(0,R.Im)(null!=(r=null==(t=a.filters)?void 0:t.filters)?r:{})&&(o||f)&&(0,s.jsx)(M.P.div,{className:"ml-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20,stiffness:400,delay:0},children:(0,s.jsx)(i.$,{disabled:d||g&&c>100||!a.owner||!a.repo||!a.branch,onClick:()=>x(a),children:d?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(p.N,{className:"animate-spin"})}):o?(0,s.jsx)(D.A,{defaultMessage:"Add files",id:"xrAjmQ72mN"}):(0,s.jsx)(D.A,{defaultMessage:"Update",id:"BWpuKlRSA1"})})})})]})}function q(e){let{config:t,setConfig:r,isCreating:a,className:l}=e,{data:i=[]}=(0,P.b4)(),n=i.map(e=>({owner:e.owner.login,repo:e.name,branch:e.default_branch}));t.owner&&t.repo&&t.branch&&!n.some(e=>e.repo===t.repo&&e.owner===t.owner&&e.branch===t.branch)&&n.unshift({owner:t.owner,repo:t.repo,branch:t.branch});let[o,d]=(0,z.useState)(void 0);return(0,z.useEffect)(()=>{t.owner&&t.repo&&t.branch?d(JSON.stringify({owner:t.owner,repo:t.repo,branch:t.branch})):d(void 0)},[t]),(0,s.jsx)("div",{className:l,children:(0,s.jsxs)(I.bL,{value:o,onValueChange:e=>{r({...JSON.parse(e),filters:{filters:{}}}),d(e)},disabled:!a,children:[(0,s.jsxs)(I.l9,{className:(0,A.A)("flex flex-row rounded-md border-0.5 px-2 border-border-300 py-1 items-center gap-1 text-nowrap overflow-x-hidden",{"max-w-96  pointer-cursor select-none hover:bg-bg-100 ":a,"bg-bg-100":!a}),children:[(0,s.jsx)(I.WT,{placeholder:"Select a repository"}),a&&(0,s.jsx)(I.In,{className:"pl-1",children:(0,s.jsx)(f.a,{})})]}),(0,s.jsx)(I.ZL,{children:(0,s.jsx)(I.UC,{className:"border-0.5 border-border-300 bg-bg-100 min-w-72 rounded-lg shadow-sm z-dropdown mt-1 p-1 max-h-96 overflow-y-auto",position:"popper",children:(0,s.jsx)(I.LM,{className:"overflow-auto",children:n.map((e,t)=>(0,s.jsx)(I.q7,{value:JSON.stringify(e),className:(0,A.A)("relative flex flex-row p-1.5 cursor-pointer hover:bg-bg-200 focus:outline-none focus:bg-bg-200 rounded-md"),children:(0,s.jsx)(I.p4,{children:(0,s.jsxs)("span",{className:"flex flex-row text-sm items-center ",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"text-text-300",children:e.owner}),"\xa0",(0,s.jsx)("span",{className:"text-text-500/50",children:"/"}),"\xa0",(0,s.jsx)("span",{className:"text-text-000",children:e.repo})]}),(!a||a&&"master"!==e.branch&&"main"!==e.branch)&&(0,s.jsxs)("span",{className:" flex flex-row font-mono text-xs text-text-300 rounded-full px-1.5 ml-2 gap-1 items-center bg-border-400/[0.03] border-border-300 border-0.5 ",children:[(0,s.jsx)(g.r,{}),e.branch]})]})})},t))})})})]})})}function V(e){let{isCreating:t,isExpanded:r,setIsExpanded:a,setConfig:l,className:n}=e,o=(0,T.A)(),[c,u]=(0,z.useState)(""),h=()=>{let{owner:e,repo:t,branch:r}=function(e){let t;try{t=new URL(null!=e?e:"")}catch(e){return{}}if("github.com"!==t.hostname)return{};let[,r,s,a,...l]=t.pathname.split("/");return{owner:r,repo:s,location:a,branch:l.join("/").replace(/\/$/,"")}}(c);l({owner:e,repo:t,branch:r,filters:{filters:{}}}),a(!1),u("")};return t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:(0,A.A)("flex flex-row gap-1 items-center text-sm px-0.5",{"border-0.5 border-border-300 rounded-md h-[29px] w-64 transition":r},n),children:[(0,s.jsx)(d.m,{tooltipContent:"Paste GitHub URL",children:!r&&(0,s.jsx)(i.$,{onClick:()=>a(!r),size:"icon_sm",variant:"ghost",disabled:r,children:(0,s.jsx)(b.X,{size:16})})}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{className:"flex-1 border-none bg-transparent bg-none px-0 focus:ring-0 p-0 text-sm ml-2",type:"text",value:c,onChange:e=>u(e.target.value),placeholder:o.formatMessage({defaultMessage:"Paste GitHub URL",id:"RobpzbjbFb"}),autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&h()}}),c&&(0,s.jsx)(k.N,{children:(0,s.jsx)(M.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20,stiffness:400,delay:0},children:(0,s.jsx)(i.$,{onClick:h,size:"icon_xs",children:(0,s.jsx)(v.y,{})})})})]})]}),r&&(0,s.jsx)(i.$,{onClick:()=>{a(!1),u("")},size:"icon_sm",variant:"ghost",className:"ml-2",children:(0,s.jsx)(j.X,{})})]})}function K(e){let{isExpanded:t,setIsExpanded:r,searchQuery:a,setSearchQuery:l,className:n}=e,o=(0,T.A)();return(0,s.jsxs)("div",{className:(0,A.A)("flex flex-row items-center text-sm pl-0 p-1",{"border-0.5 border-border-300 rounded-md h-[29px] transition":t},n),children:[(0,s.jsx)(d.m,{tooltipContent:"Search files",children:(0,s.jsx)(i.$,{onClick:()=>r(!t),size:"icon_sm",variant:"ghost",disabled:t,children:(0,s.jsx)(y.e,{size:"16"})})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"text",placeholder:o.formatMessage({defaultMessage:"Search files",id:"8xPuGUna7W"}),value:a,className:"flex-1 border-none bg-transparent bg-none px-0 focus:ring-0 p-0 text-sm ",onChange:e=>l(e.target.value),autoFocus:!0}),(0,s.jsx)(i.$,{onClick:()=>{l(""),r(!1)},size:"icon_xs",variant:"ghost",children:(0,s.jsx)(j.X,{})})]})]})}function X(e){let{repo:t,rootNode:r,filters:a,setFilters:l,sizeLimit:i,currentDirectory:o,setCurrentDirectory:d,enforceSizeLimit:c}=e,u=function(e,t){let r=t.split("/").slice(1,-1),s=e;for(let e of r){if(!s.children)return null;s=s.children.get(e)}return s}(r,o),h=(null==u?void 0:u.children)?[...u.children.values()].sort((e,t)=>e.children?t.children?e.path.localeCompare(t.path):-1:1):[],m=(0,z.useMemo)(()=>{let e=[],r=o;for(;r;){let s=r.slice(r.lastIndexOf("/",r.length-2)).slice(1,-1);e.unshift({name:s||t,path:r}),r=(0,R._6)(r)}return e},[t,o]),x=u?Y(u,a)?"partial":(0,R.R4)(a,u.path)?"checked":"unchecked":"unchecked";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 py-2 px-4 border-b-0.5 border-border-300 bg-bg-100/50 text-sm",children:[u&&(0,s.jsx)(n.f,{checkState:x,onClick:e=>{let{didCheck:t}=e;t?l((0,R.qi)(a,u.path)):l((0,R.qX)(a,u.path))}}),(0,s.jsx)("div",{className:"flex-row gap-1 ",children:m.map((e,t)=>{let{path:r,name:a}=e;return m.length===t+1?(0,s.jsx)("span",{children:a},t):(0,s.jsxs)("span",{className:"first-child:pointer-events-none",children:[(0,s.jsx)("button",{className:"hover:text-text-200 text-text-500 transition",onClick:()=>d(r),children:a}),t<m.length-1&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:"mx-1 text-text-500/50",children:"/"})})]},t)})})]},"breadcrumbs")}),(0,s.jsx)("div",{className:"flex flex-col h-full overflow-y-scroll",children:h.map(e=>(0,s.jsx)(Q,{node:e,showPath:!1,filters:a,sizeLimit:i,onUpdateFilters:l,onClick:e.children?()=>d(e.path):void 0,enforceSizeLimit:c},e.path))},"rows")]})}function $(e){let{rootNode:t,searchQuery:r,filters:a,setFilters:l,sizeLimit:i,setCurrentDirectory:n,setSearchQuery:o,enforceSizeLimit:d}=e,c=(0,z.useMemo)(()=>{let e=[],s=[t],a=r.toLowerCase();for(;s.length>0&&e.length<50;){let t=s.pop();t.children&&s.push(...t.children.values()),t.path.toLowerCase().includes(a)&&e.push(t)}return e},[r,t]);return(0,s.jsx)("div",{className:"flex flex-col h-full overflow-y-scroll",children:c.slice(0,100).map(e=>(0,s.jsx)(Q,{node:e,showPath:!0,filters:a,sizeLimit:i,onUpdateFilters:l,onClick:e.children?()=>{n(e.path),o("")}:void 0,onNavigate:e=>{n(e),o("")},enforceSizeLimit:d},e.path))},"rows")}function J(e){let{percentUsed:t,selectedPaths:r,alreadyUsedTokens:a,tokenLimit:l,enforceSizeLimit:i}=e,{progressBarPercentPrimary:n,progressBarPercentSecondary:o}=(0,z.useMemo)(()=>{let e=Math.min(100,Math.ceil(100*a/l));return{progressBarPercentPrimary:Math.min(100,t-e),progressBarPercentSecondary:e}},[t,a,l]),c=i?(0,s.jsx)(D.A,{defaultMessage:"{percentUsed}% of capacity used",id:"1VbFlPsYRL",values:{percentUsed:Z(t)}}):null;return(0,s.jsxs)("div",{className:(0,A.A)("flex text-xs items-center justify-between border-border-300 border-t-0.5 py-2 px-4 rounded-b-lg transition",{"bg-danger-100 text-danger-900":i&&t>=100},{"text-text-300":!i||t<100}),children:[r.length&&(!i||t<100)?(0,s.jsx)("p",{children:(0,s.jsx)(D.A,{defaultMessage:"{selected, plural, one {# file} other {# files}} selected",id:"F7Bwhc8GRB",values:{selected:r.length}})}):!i||t<100?(0,s.jsx)("p",{children:(0,s.jsx)(D.A,{defaultMessage:"Select files to add to chat context",id:"t6XeSPdQqI"})}):(0,s.jsxs)("div",{className:"inline-flex gap-2 items-center ",children:[(0,s.jsx)(w.N,{className:"opacity-80",size:14}),(0,s.jsx)("p",{children:(0,s.jsx)(D.A,{defaultMessage:"Remove some files to stay within size limits",id:"k+ns1o6klw"})})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[i&&(0,s.jsx)(ee,{totalPercent:t,secondaryPercent:o}),i&&(0,s.jsx)("span",{className:"min-w-10 text-right",children:o>0?(0,s.jsx)(d.m,{tooltipContent:"".concat(Z(o),"% used by other knowledge + ").concat(Z(n),"% by this content"),children:(0,s.jsx)("span",{children:c})}):c})]})]})}function Y(e,t){if(void 0===e.children)return!1;if((0,R.R4)(t,e.path)){for(let r of e.children.values())if(!(0,R.R4)(t,r.path)||Y(r,t))return!0}else for(let r of e.children.values())if((0,R.R4)(t,r.path)||Y(r,t))return!0;return!1}function Q(e){let{node:t,showPath:r,filters:a,sizeLimit:l,onUpdateFilters:i,onClick:o,onNavigate:d,enforceSizeLimit:c}=e,u=void 0!==t.children,h=(0,R.R4)(a,t.path),m=Y(t,a);return(0,s.jsxs)("div",{onClick:o,className:(0,A.A)("group flex justify-start items-center gap-2 py-2 px-4 border-b-0.5 border-border-400 hover:bg-bg-100",{"cursor-pointer":o}),children:[(0,s.jsx)(n.f,{checkState:m?"partial":h?"checked":"unchecked",onClick:e=>{let{didCheck:r}=e;r?i((0,R.qi)(a,t.path)):i((0,R.qX)(a,t.path))}}),void 0===t.children?(0,s.jsx)(N.Z,{weight:"light",size:20,className:"flex-shrink-0 text-text-400"}):(0,s.jsx)(_.vd,{weight:"fill",className:"flex-shrink-0 text-accent-secondary-200",size:20}),(0,s.jsx)("div",{className:(0,A.A)("w-5/6 text-text-100 overflow-x-hidden text-ellipsis text-nowrap",{"text-text-200 group-hover:text-text-000":u}),onClick:e=>{u&&o&&(e.stopPropagation(),o())},children:r?(e=>{let t=e.replace(/^\/+|\/+$/g,"").split("/");return(0,s.jsx)("span",{children:t.map((e,r)=>{let a="/"+t.slice(0,r+1).join("/")+"/",l=r===t.length-1,i=!l&&d?e=>{e.stopPropagation(),d(a)}:void 0;return(0,s.jsxs)("span",{children:[(0,s.jsx)(l?"span":"button",{className:(0,A.A)(l?"text-text-000":"text-text-400",i?"hover:text-text-100 transition":""),onClick:i,children:e}),!l&&(0,s.jsx)("span",{className:"opacity-25 mx-1",children:"/"})]},r)})})})(t.path):t.name}),l&&c&&(0,s.jsxs)("span",{className:"w-1/6 text-text-400 text-xs text-right",children:[Z(100*t.size/l),"%"]})]})}function Z(e){return 0===e?"0":e<1?"<1":h(Math.ceil(e))}function ee(e){let{totalPercent:t,secondaryPercent:r=0}=e,a=t>=100,l=t-r;return(0,s.jsx)("div",{className:"bg-bg-100 border-0.5 border-border-300 w-24 h-2 rounded-full overflow-hidden relative",children:(0,s.jsxs)("div",{className:"absolute inset-0",children:[r>0?(0,s.jsx)("div",{style:{width:"".concat(Math.min(100,Math.max(0,r)),"%")},className:"absolute inset-y-0 left-0 bg-border-400"}):null,l>0?(0,s.jsx)("div",{style:{width:"".concat(Math.min(100-(r||0),Math.max(4*(l>0),l)),"%"),left:"".concat(r||0,"%")},className:(0,A.A)("absolute inset-y-0 transition-all",{"bg-danger-100":a,"bg-text-100":!a})}):null]})})}},15957:(e,t,r)=>{r.d(t,{X:()=>m,n:()=>h});var s=r(54568),a=r(1761),l=r(29242),i=r(38583),n=r(46760),o=r(62971),d=r(81527),c=r(60629);let u=e=>{let{intl:t}=e;return(0,s.jsx)(l.m,{tooltipContent:t.formatMessage({defaultMessage:"Claude will guide your learning process instead of just giving answers. You can adjust these instructions in the project anytime.",id:"X9ioIsDrqe"}),side:"right",align:"end",children:(0,s.jsx)(i.R,{size:16,className:"shrink-0"})})},h=(e,t)=>{let r=(0,a.mV)(),l=(0,n.A)(),i=(0,c.AI)();e=null!=e?e:null==i?void 0:i.type,t=null!=t?t:null==i?void 0:i.subtype;let h={};return r&&(h.createProjectTitle=l.formatMessage({defaultMessage:"Create a project",id:"HR5A+UPiIu"})),e===d.gM.Student&&(t===d.gr.Study&&(h.createProjectTitle=l.formatMessage({defaultMessage:"Create a study project",id:"aM+8eAE0xv"}),h.createProjectNameLabel=(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(o.A,{defaultMessage:"What course are you studying?",id:"v36OurBGgA"}),(0,s.jsx)(u,{intl:l})]}),h.createProjectDescriptionDefault=l.formatMessage({defaultMessage:"A project for studying your course materials, where Claude helps visualize key concepts, build comprehensive study guides, and tutor you according to your learning needs.",id:"KXxo+Xoski"})),t===d.gr.Career&&(h.createProjectTitle=l.formatMessage({defaultMessage:"Create a career project",id:"so02zrH0dG"}),h.createProjectNameLabel=l.formatMessage({defaultMessage:"What are you working towards?",id:"lqTAz2gpwu"}),h.createProjectDescriptionDefault=l.formatMessage({defaultMessage:"A project for exploring career opportunities, where Claude helps match your skills to potential careers, improve your resume, and develop personalized roadmaps for professional growth.",id:"JlrkubQL9D"})),t===d.gr.Research&&(h.createProjectTitle=l.formatMessage({defaultMessage:"Create a research project",id:"L9PkdSYTu+"}),h.createProjectNameLabel=l.formatMessage({defaultMessage:"What are you researching?",id:"gsRiHcI+J7"}),h.createProjectDescriptionDefault=l.formatMessage({defaultMessage:"A project for developing academic research, where Claude helps identify key themes in your research, create structured outlines, and provide feedback to improve your drafts.",id:"WI7ROAQaAW"}))),h},m=e=>{let t=(0,n.A)();if(!e)return{};let r=e.type,s=e.subtype,a={};return r===d.gM.Student&&(a.projectKnowledgeTitle=t.formatMessage({defaultMessage:"Reference materials",id:"IAK8rLiiAO"}),a.projectNoChatsMessage=t.formatMessage({defaultMessage:"Start a chat to keep conversations organized and re-use reference materials.",id:"ShAr8vcP2v"}),a.projectNoKnowledgeCantAddMessage=t.formatMessage({defaultMessage:"No reference materials added yet.",id:"2Gz7oaDTj0"}),a.projectKnowledgeDragDropMessage=t.formatMessage({defaultMessage:"Drop files here to add to reference materials",id:"hNUGHHYeEK"}),s===d.gr.Study&&(a.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Drag and drop course materials like syllabi, lecture notes, or text-book excerpts so Claude can help you learn.",id:"hlIot3aXce"})),s===d.gr.Career&&(a.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Drag and drop career materials like your resume, cover letters, or job descriptions to help Claude provide personalized professional advice.",id:"LXnjolwaEB"})),s===d.gr.Research&&(a.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Drag and drop research materials like draft papers, source notes, or literature reviews to help Claude provide targeted academic guidance.",id:"c5oBAmpUAc"}))),a}},21777:(e,t,r)=>{r.d(t,{E:()=>d});var s=r(42977),a=r(54568),l=r(79428),i=r(90510),n=r(7620);function o(){let e=(0,s._)(["",""]);return o=function(){return e},e}let d=e=>{let{hideBottomShadow:t,scrollContainerRef:r,persistedScrollToRef:s,...l}=e,i=(null==s?void 0:s.current)!==void 0,o=(0,n.useRef)(null),d=r||o,u=(0,n.useCallback)(()=>{let e=d.current;if(e&&!t){let{scrollTop:t,offsetHeight:r,scrollHeight:a}=e;t+r>=a?e.classList.remove("has-bottom-scroll"):e.classList.add("has-bottom-scroll"),i&&0!==t&&Math.abs(t-s.current)>10&&(s.current=t)}},[t,d,i,s]);return u(),(0,n.useEffect)(()=>{let e=d.current;requestAnimationFrame(()=>{i&&e&&(null==e||e.scrollTo({top:s.current,behavior:"instant"}))})},[d,i,s]),(0,n.useEffect)(()=>{let e=d.current;return null==e||e.addEventListener("scroll",u),()=>null==e?void 0:e.removeEventListener("scroll",u)},[u,d]),(0,a.jsx)(c,{ref:d,...l,children:l.children})},c=i.J.div(o(),l.M)},23661:(e,t,r)=>{r.d(t,{M:()=>a,R:()=>s});var s=function(e){return e.URLParameter="url_parameter",e.UserUpload="user_upload",e.FirstParty="first_party",e}({}),a=function(e){return e.Image="image",e.Blob="blob",e.WiggleVM="WiggleVM",e.SanitizedDocument="document",e}({})},31102:(e,t,r)=>{r.d(t,{J:()=>a});var s=r(29585);function a(e){let t="Unable to add Google Doc.";return e instanceof s.LG&&"access_denied"===e.errorCode?t+=" Please check that link is a valid Google Doc that you have access to.":t+=" "+e.message,t}},32805:(e,t,r)=>{r.d(t,{i:()=>c});var s=r(54568),a=r(29242),l=r(27261),i=r.n(l),n=r(7620),o=r(62971),d=r(56147);let c=e=>{let t,{children:r,enabledWrapperStyles:l="",disabledWrapperStyles:c=""}=e,u=(0,d.aT)();return t=u?c:l,(0,s.jsx)(a.m,{tooltipContent:u?(0,s.jsx)(o.A,{defaultMessage:"You have reached the maximum number of projects. <upgradeLink>Upgrade</upgradeLink> for more.",id:"8XKCSUNy79",values:{upgradeLink:e=>(0,s.jsx)(i(),{href:"/upgrade",className:"underline",children:e})}}):null,side:"bottom",children:(0,s.jsx)("div",{className:t,children:n.cloneElement(r,{disabled:u})})})}},33395:(e,t,r)=>{r.d(t,{$:()=>i});var s=r(54568),a=r(4705),l=r(32987);let i=e=>{let{icon:t,title:r,subtitles:i,tag:n,disabled:o,url:d,isError:c,handleClick:u}=e,h=(0,l.A)("flex flex-row gap-4 items-center justify-between rounded-md tracking-tight shrink-0 h-[2rem] px-1 w-full min-w-0",!o&&(u||d)?"cursor-pointer hover:bg-bg-100":"cursor-default"),m=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 min-w-0",children:[(!!t||c)&&(0,s.jsx)("div",{className:"h-5 w-5 flex items-center justify-center shrink-0",children:c?(0,s.jsx)(a.N,{size:12,className:"text-danger-000"}):t}),(0,s.jsx)("p",{className:(0,l.A)("relative bottom-[1px] text-[0.875rem] whitespace-nowrap overflow-hidden text-ellipsis shrink",c?"text-text-500":"text-text-000"),children:r}),!!(null==i?void 0:i.length)&&i.map((e,t)=>(0,s.jsx)("p",{className:"relative bottom-[1px] text-[0.75rem] text-text-500 line-clamp-1 shrink-0",children:e},t))]}),!!n&&(0,s.jsx)("div",{className:"shrink-0 flex items-center",children:(0,s.jsx)("div",{className:"text-[0.625rem] text-text-300 border-border-400 border-0.5 rounded px-1 h-[1.125rem] inline-flex items-center justify-center uppercase font-medium shrink-0",children:n})})]});return d?(0,s.jsx)("a",{target:"_blank",href:o?void 0:d,tabIndex:-1,children:(0,s.jsx)("button",{disabled:o,className:h,onClick:u,children:m})}):u?(0,s.jsx)("button",{disabled:o,className:h,onClick:u,children:m}):(0,s.jsx)("div",{className:h,children:m})}},34098:(e,t,r)=>{r.d(t,{E:()=>l});var s=r(54568),a=r(62971);function l(e){return{title:(()=>{if("html"===e.file_type){let t=e.extracted_content.match(/<title>(.*?)<\/title>/);return t?t[1]:e.file_name}return"paste.txt"===e.file_name?(0,s.jsx)(a.A,{defaultMessage:"Pasted content",id:"okKwHjIO0b"}):e.file_name})(),metaData:(()=>{var t;let r=(0,s.jsx)(a.A,{defaultMessage:"{count, plural, one {# line} other {# lines}}",id:"AFTxeGB4qO",values:{count:e.extracted_content.split("\n").length}}),l=(t=e.file_size)<1048576?(0,s.jsx)(a.A,{defaultMessage:"{size} KB",id:"/hgypvsrtJ",description:"File size in kilobytes",values:{size:(t/1024).toFixed(2)}}):(0,s.jsx)(a.A,{defaultMessage:"{size} MB",id:"8amcCGO7ya",description:"File size in megabytes",values:{size:(t/1048576).toFixed(2)}});if("html"!==e.file_type)return(0,s.jsxs)("span",{children:[l,"\xa0",(0,s.jsx)("span",{className:"opacity-50 mx-1",children:"•"}),r]});{let t=e.file_name,a=e.file_name.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\\/\n?]+)/gim);return a&&(t=a[0].replace("www.","")),(0,s.jsxs)("span",{children:[r,"\xa0",(0,s.jsx)("span",{className:"opacity-50 mx-1",children:"•"}),t]})}})()}}},35391:(e,t,r)=>{r.d(t,{S:()=>a,d:()=>s});let s=e=>"https://docs.google.com/document/d/".concat(e),a=e=>"https://outline.ant.dev/doc/".concat(e)},36906:(e,t,r)=>{r.d(t,{G:()=>l});var s=r(54568),a=r(62971);function l(e){let{showPDFWarning:t=!1,metaData:r}=e;return(0,s.jsxs)("span",{className:"text-text-500 mb-3 mt-0.5 flex flex-wrap gap-y-2 items-start items-center text-xs",children:[(0,s.jsx)("span",{children:r}),(0,s.jsx)("span",{className:"mx-1.5 opacity-50 hidden lg:inline",children:"•"}),t?(0,s.jsx)("span",{children:(0,s.jsx)(a.A,{defaultMessage:"This PDF was converted to text due to its large size",id:"o/G2cAuU9n"})}):(0,s.jsx)("span",{children:(0,s.jsx)(a.A,{defaultMessage:"Formatting may be inconsistent from source",id:"9NeTb00/cM"})})]})}},48676:(e,t,r)=>{r.d(t,{$:()=>i,X:()=>n});let s=/docs\.google\.com\/document\/d\/([a-zA-Z0-9-_]+)/i,a=/document\/d\/([a-zA-Z0-9-_]+)/i,l=/(docs\.google\.com)|(drive\.google\.com)/i;function i(e){if(!e)return null;try{let t=new URL(e),r=!!t.toString().match(s),l=t.pathname.match(a);if(r&&l&&l[1])return l[1]}catch(e){}return null}function n(e){if(!e)return!1;try{return!!new URL(e).toString().match(l)}catch(e){}return!1}},53573:(e,t,r)=>{r.d(t,{D:()=>m});var s=r(70011),a=r(9896),l=r(1761),i=r(55554),n=r(27062),o=r(85544),d=r(56147);let c={raven:{hardLimit:19e4,output:16384},pro:{hardLimit:19e4,output:8192},max:{hardLimit:19e4,output:16384},free:{hardLimit:30500,output:8192}},u={default:c},h=e=>{var t,r,s,a,h,m;let x,p=(0,l.mV)(),f=(0,l.O9)(),g=(0,l.zc)(),{selectedTier:b,shouldOverrideTokenLimits:v,isTierSelectorEnabled:j}=(0,i.t)(),y=j&&v&&!!b,w=(0,n.iW)("hatch_token_limits",u,d.RP),N=null!=(r=null!=(t=w[e])?t:w.default)?r:c;return null!=(x=(y?b===o.d7.MAX:g)?null==N||null==(s=N.max)?void 0:s.hardLimit:(y?b===o.d7.ENTERPRISE:p)?null==N||null==(a=N.raven)?void 0:a.hardLimit:(y?b===o.d7.PRO:f)?null==N||null==(h=N.pro)?void 0:h.hardLimit:null==N||null==(m=N.free)?void 0:m.hardLimit)?x:30500},m=(e,t)=>{let r=(0,s.Z3)(e),{stickyModelPreference:l}=(0,a.F)();return h(e?r:t||l||r)}},56147:(e,t,r)=>{r.d(t,{AO:()=>M,AV:()=>A,ED:()=>C,Pb:()=>k,RP:()=>N,aT:()=>_,gq:()=>S,pb:()=>E});var s=r(85644),a=r(96784),l=r(1761),i=r(55554),n=r(46612),o=r(27062),d=r(77101),c=r(85544),u=r(7620),h=r(75006),m=r(98251),x=r(41932),p=r(52909),f=r(81527),g=r(6568),b=r(80731);let v={hardLimit:1e5},j={default:{max:v,raven:v,pro:v,free:v}},y=h.z.object({hardLimit:h.z.number().optional(),tokensPerImage:h.z.number().optional()}),w=h.z.object({free:y.optional(),pro:y.optional(),raven:y.optional(),max:y.optional()}),N=h.z.record(w.optional()),_=()=>{let{data:e}=(0,f.PL)(),t=(0,b.p)();return void 0!==t&&void 0!==e&&e>=t},A=()=>{let{value:e}=(0,o.fS)("claude_ai_project_bananagrams");return e},k=e=>{let t=A(),{data:r}=(0,m.fR)(e,t);return!!t&&(void 0!==r?!!(t&&r.use_project_knowledge_search):void 0)},M=()=>{let e=(0,l.mV)(),t=(0,l.O9)(),r=(0,l.zc)(),{selectedTier:a,shouldOverrideTokenLimits:n,isTierSelectorEnabled:d}=(0,i.t)(),u=d&&n&&!!a,h=(0,o.T9)("console_default_model","model",null,o.Lu),{activeModelOptions:m}=(0,s.A9)(),x=m.map(e=>e.model),p=(0,o.iW)("hatch_token_limits",j,N),f=A(),g=(0,o.T9)("project_knowledge_limit","limit",0x3200000,o.T2);if(f)return{maxKbTokens:g,modelWithLargestContext:null};let b=null,v=Number.NEGATIVE_INFINITY;for(let s of Object.keys(p)){var y,w,_,k,M,C,S,E,L,I,z,D,T,P,R,G;let l,i;if(!x.includes(s)&&"default"!==s)continue;let n=p[s];(u?a===c.d7.MAX:r)?(l=null!=(_=null==n||null==(y=n.max)?void 0:y.hardLimit)?_:19e4,i=null!=(k=null==n||null==(w=n.max)?void 0:w.output)?k:8192):(u?a===c.d7.ENTERPRISE:e)?(l=null!=(S=null==n||null==(M=n.raven)?void 0:M.hardLimit)?S:19e4,i=null!=(E=null==n||null==(C=n.raven)?void 0:C.output)?E:8192):(u?a===c.d7.PRO:t)?(l=null!=(z=null==n||null==(L=n.pro)?void 0:L.hardLimit)?z:19e4,i=null!=(D=null==n||null==(I=n.pro)?void 0:I.output)?D:8192):(l=null!=(R=null==n||null==(T=n.free)?void 0:T.hardLimit)?R:25e3,i=null!=(G=null==n||null==(P=n.free)?void 0:P.output)?G:8192),(l=Math.round(.9*l)-i)>v?(b="default"===s?h:s,v=l):l===v&&"default"===s&&(b=h)}return{maxKbTokens:v,modelWithLargestContext:b}},C=e=>{let t=A(),{data:r,isLoading:s}=(0,x.MO)(e,!1===t),{data:l,isLoading:i}=(0,p.CO)(e,!0,!1===t),{data:o,isLoading:c}=(0,x.uE)(e,!1===t),{data:h,isLoading:f}=(0,m.fR)(e,t),b=null==o?void 0:o.filter(e=>"document"===e.file_kind),v=(0,u.useMemo)(()=>{var e;return null!=(e=null==b?void 0:b.reduce((e,t)=>e+(0,g.n2)(t),0))?e:0},[b]),j=null==o?void 0:o.filter(e=>"image"===e.file_kind),y=(0,u.useMemo)(()=>{var e;return null!=(e=null==j?void 0:j.reduce((e,t)=>e+(0,g.SL)(t),0))?e:0},[j]),w=(0,u.useMemo)(()=>(r||[]).map(e=>e.content).join(" "),[r]),N=(0,a.F)(w,{skip:null==t||t})+v+y,_=(0,u.useMemo)(()=>{var e,t;let r=null==l?void 0:l.filter(e=>e.type===d.v8.GITHUB),s=null==l?void 0:l.filter(e=>e.type!==d.v8.GITHUB),a=null!=(e=null==r?void 0:r.map(e=>e.status.current_size_bytes).filter(e=>!!e&&"number"==typeof e).reduce((e,t)=>e+t,0))?e:0,i=null!=(t=null==s?void 0:s.map(e=>e.status.current_size_bytes).filter(e=>!!e&&"number"==typeof e).reduce((e,t)=>e+t,0))?t:0;return Math.floor(a/n.Pu+i/n.t2)},[l]);if(!s&&!i&&!c&&!f){if(t){var k;return null!=(k=null==h?void 0:h.knowledge_size)?k:0}return void 0!==r?void 0!==l?N+_:N:void 0!==l?_:void 0}},S=e=>{let t=A(),{data:r}=(0,m.fR)(e,t);if(r)return r.project_knowledge_search_threshold},E=e=>{let{mutate:t}=(0,f.sS)(e),{data:r}=(0,f.fo)(e);return()=>{t({is_starred:!(null==r?void 0:r.is_starred)})}}},56566:(e,t,r)=>{r.d(t,{s:()=>m});var s=r(54568),a=r(37076),l=r(46612),i=r(77101),n=r(7620),o=r(67455),d=r(52909),c=r(56147),u=r(53573),h=r(13488);function m(e){let{isOpen:t,onClose:r,onCreated:m,projectUuid:x,location:p,syncSource:f,setIsUploadingGithubSync:g}=e,{maxKbTokens:b}=(0,c.AO)(),v=(0,u.D)(null),j="project"===p&&x?b:v,y=(0,c.ED)(x),w=(0,n.useMemo)(()=>{if(x&&void 0!==y){var e;return Math.max(0,y-((null==f||null==(e=f.status)?void 0:e.current_size_bytes)?f.type===i.v8.GITHUB?f.status.current_size_bytes/l.Pu:f.status.current_size_bytes/l.t2:0))}return 0},[x,y,f]),N=(0,n.useCallback)(e=>{null==m||m(e)},[m]),{mutate:_,isPending:A}=(0,d.pz)(x,{onSuccess:N,onError:()=>null==g?void 0:g(!1)}),{mutate:k,isPending:M}=(0,d.M3)(x,{onSuccess:r}),{mutate:C,isPending:S}=(0,o.EF)({onSuccess:N,onError:()=>null==g?void 0:g(!1)}),{mutate:E,isPending:L}=(0,o.VA)({onSuccess:r}),I=(0,n.useCallback)(e=>{f?("project"===p&&x?k:E)({sync_source_uuid:f.uuid,sync_source_config:e}):(null==g||g(!0),r(),("project"===p&&x?_:C)({sync_source_type:i.v8.GITHUB,sync_source_config:e}))},[f,p,x,_,k,C,E,r,g]);return(0,s.jsx)(a.aF,{isOpen:t,onClose:r,title:"Add content from GitHub",subtitle:"Select the files you would like to add to this ".concat(x?"project":"chat"),modalSize:"xl",hasCloseButton:!0,autoCloseOnFocusOut:!1,closeOnEscapeKeydown:!1,children:(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(h.Y,{initialConfig:null==f?void 0:f.config,tokenLimit:j,alreadyUsedTokens:w,isSubmitting:A||M||S||L,onSubmit:I})})})}},60629:(e,t,r)=>{r.d(t,{BU:()=>k,AI:()=>w});var s=r(54568),a=r(98518),l=r(1761),i=r(27062),n=r(62942),o=r(62971),d=r(75006),c=r(81527),u=r(32987),h=r(61773);r(7620);var m=r(32805);let x=e=>{let{icon:t,title:r,description:a,onClick:l,variant:i,disabled:n=!1}=e;return(0,s.jsxs)("button",{className:(0,u.A)("flex p-4 w-full items-center h-full","projects"===i?"flex-row-reverse sm:flex-col sm:items-start lg:flex-row-reverse lg:items-center":"flex-row sm:flex-col sm:items-start"),onClick:l,disabled:n,children:[(0,s.jsx)("div",{className:(0,u.A)("relative mb-1","projects"===i?"lg:mb-0 lg:ml-2":"mr-2"),children:(0,s.jsx)(h.default,{src:t,height:50,width:50,alt:"",style:{opacity:n?"50%":"100%"}})}),(0,s.jsxs)("div",{className:"flex flex-col items-start w-full h-full",children:[(0,s.jsx)("h3",{className:(0,u.A)("text-md font-medium text-text-200 text-left",n&&"text-text-500"),children:r}),(0,s.jsx)("p",{className:(0,u.A)("text-sm text-text-200 text-left",n&&"text-text-500"),children:a})]})]})},p=e=>{let{variant:t="home",...r}=e;return(0,s.jsx)("div",{className:(0,u.A)("w-full","projects"===t?"sm:w-48 sm:grow lg:w-52":"sm:w-48 lg:w-52"),children:(0,s.jsx)(m.i,{enabledWrapperStyles:"from-bg-100 to-bg-100/30 border-0.5 border-border-300 hover:from-bg-000/70 hover:to-bg-000/50 hover:border-border-300/30 text-text-200 hover:text-text-100 relative flex cursor-pointer flex-col gap-1.5 rounded-xl bg-gradient-to-b transition-all ease-in-out hover:shadow-sm active:scale-[0.995] md:gap-2 overflow-hidden h-full",disabledWrapperStyles:"border-0.5 border-border-300 text-text-200 relative flex cursor-pointer flex-col gap-1.5 rounded-xl md:gap-2 overflow-hidden h-full",children:(0,s.jsx)(x,{...r,variant:t})})})},f=d.z.object({type:d.z.nativeEnum(c.gM),subtype:d.z.nativeEnum(c.gr),icon_type:d.z.string(),custom_instructions:d.z.string()}),g=e=>{switch(e){case"edu_lightbulb":return"/images/illustrations/edu/edu-lightbulb.svg";case"edu_paper_and_quill":return"/images/illustrations/edu/edu-paper-and-quill.svg";case"edu_paper_and_magnifying_glass":return"/images/illustrations/edu/edu-paper-and-magnifying-glass.svg";default:return""}},b=(e,t)=>{if(e===c.gM.Student)switch(t){case c.gr.Study:return(0,s.jsx)(o.A,{defaultMessage:"Study project",id:"SDlohOAVzo"});case c.gr.Career:return(0,s.jsx)(o.A,{defaultMessage:"Career project",id:"MsM+7biLzH"});case c.gr.Research:return(0,s.jsx)(o.A,{defaultMessage:"Research project",id:"OR/ar3drnQ"})}},v=(e,t)=>{if(e===c.gM.Student)switch(t){case c.gr.Study:return(0,s.jsx)(o.A,{defaultMessage:"Learn and master any subject",id:"3vYdF/hF/f"});case c.gr.Career:return(0,s.jsx)(o.A,{defaultMessage:"Find the next step for your career",id:"v6qrZ8g/Vy"});case c.gr.Research:return(0,s.jsx)(o.A,{defaultMessage:"Analyze and organize research",id:"R19a/TH47z"})}},j=e=>e.map(e=>({id:"".concat(e.type,"-").concat(e.subtype),type:e.type,subtype:e.subtype,icon:g(e.icon_type),title:b(e.type,e.subtype),description:v(e.type,e.subtype),customInstructions:e.custom_instructions})),y=e=>e?(0,s.jsx)(o.A,{defaultMessage:"Set up Claude for your classes, career, and research",id:"aU/3NrmiTd"}):"",w=()=>{let e=(0,n.useSearchParams)().get("projectStarter"),t=A();return e?t.options.find(t=>t.id===e):void 0},N=d.z.array(f),_=[],A=()=>{let e=(0,l.hT)(),t=(0,i.T9)("claude_ai_experience","project_templates",_,N);return{sectionTitle:y(e),options:j(t)}},k=e=>{let{variant:t="home"}=e,r=(0,n.useRouter)(),l=(0,a.st)(),i=A();if(i.options.length)return(0,s.jsxs)("div",{className:"w-full mb-6",children:[(0,s.jsx)("h2",{className:"text-sm text-text-200 font-medium leading-6 ml-1",children:i.sectionTitle}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 w-full mt-3 justify-center items-stretch",children:i.options.map(e=>(0,s.jsx)(p,{variant:t,icon:e.icon,title:e.title,description:e.description,onClick:()=>{l.track({event_key:"claudeai.projects.project_starter.clicked",project_type:e.type,project_subtype:e.subtype,path:window.location.pathname}),r.push("/projects/create?projectStarter="+e.id)}},e.id))})]})}},73114:(e,t,r)=>{function s(e,t){if(!t.startsWith("/"))throw Error("absolute path required");let r=t;for(;null!==r;){let t=e[r];if("include"===t)return!0;if("exclude"===t)break;r=n(r)}return!1}function a(e,t){if(!t.startsWith("/"))throw Error("absolute path required");return s(e=i(e,t),t)&&(e={...e,[t]:"exclude"}),e}function l(e,t){if(!t.startsWith("/"))throw Error("absolute path required");return s(e=i(e,t),t)||(e={...e,[t]:"include"}),e}function i(e,t){let r={...e};for(let s of Object.keys(e))(t.endsWith("/")&&t===s||s.startsWith(t))&&delete r[s];return r}function n(e){if(!e.startsWith("/"))throw Error("absolute path required");if("/"===e)return null;let t=e.endsWith("/")?e.lastIndexOf("/",e.length-2):e.lastIndexOf("/");return t<=0?"/":e.slice(0,t+1)}function o(e){return 0===Object.keys(e).length}r.d(t,{Im:()=>o,R4:()=>s,_6:()=>n,qX:()=>a,qi:()=>l})},74744:(e,t,r)=>{r.d(t,{br:()=>_,Tc:()=>b});var s=r(54568),a=r(7386),l=r(33395),i=r(34059),n=r(77101);let o=e=>e===n.I5.ACCESS_DENIED||e===n.I5.UNAUTHENTICATED||e===n.I5.DISABLED;n.v8.GDRIVE,n.v8.GITHUB,n.v8.OUTLINE,n.v8.SALESFORCE,n.v8.GMAIL,n.v8.GCAL,n.v8.SLACK,n.v8.ASANA,n.v8.CANVAS,n.v8.FIDDLEHEAD;var d=r(7620),c=r(46760),u=r(85717),h=r(45715),m=r(45078),x=r(56566),p=r(35391);let f=e=>{let t=(0,c.A)(),r={[n.I5.UNAUTHENTICATED]:t.formatMessage({defaultMessage:"Authentication needed",id:"AYP3OHxyGn"}),[n.I5.ACCESS_DENIED]:t.formatMessage({defaultMessage:"Content not accessible",id:"IPK01iLM7n"}),[n.I5.DISABLED]:t.formatMessage({defaultMessage:"Feature disabled by organization",id:"0mkp6rxalw"})};return e in r?r[e]:void 0},g=e=>{var t;let{syncSourceType:r,syncStatus:l,title:i,url:d,handleClick:c,isLoading:u,actions:h,isSyncing:x,...p}=e,g=o(l),b=f(l),v=(0,m.v2)(),y={};return y=l===n.I5.UNAUTHENTICATED?{handleClick:()=>{v(r)}}:c?{handleClick:c}:{url:d},(0,s.jsx)(a.Iq,{actions:h,title:null!=(t=null!=b?b:i)?t:"Untitled",tag:(0,s.jsx)(j,{type:r}),isError:g,isLoading:u,isSyncing:x,...y,...p})},b=e=>{let{syncSourceType:t,syncStatus:r,url:a,...i}=e,d=o(r),c=f(r),u=(0,m.v2)(),h={};return(h=r===n.I5.UNAUTHENTICATED?{handleClick:()=>{u(t)}}:{url:a},d)?(0,s.jsx)(l.$,{...i,...h,isError:!0,title:c,subtitles:void 0,tag:void 0}):(0,s.jsx)(l.$,{...i,...h})},v={[n.v8.GDRIVE]:"DOC",[n.v8.OUTLINE]:"DOC",[n.v8.GITHUB]:"GITHUB",[n.v8.SALESFORCE]:"SALESFORCE",[n.v8.GMAIL]:"EMAIL",[n.v8.GCAL]:"CALENDAR",[n.v8.SLACK]:"SLACK",[n.v8.ASANA]:"ASANA",[n.v8.CANVAS]:"LTI",[n.v8.FIDDLEHEAD]:"FIDDLEHEAD"},j=e=>{let{type:t}=e;return(0,s.jsxs)(a.G,{children:[(0,s.jsx)(i.A9,{type:t,size:12,variant:t===n.v8.GDRIVE?i.UF.DOCS:void 0}),(0,s.jsx)("p",{className:"uppercase truncate font-ui text-text-300 text-[11px] leading-[13px]",children:v[t]})]})},y=e=>{let{projectUuid:t,syncSource:r,location:a,actions:l,isSyncing:i,...n}=e,[c,u]=(0,d.useState)(!1),{owner:h,repo:m}=r.config,p="".concat(h,"/").concat(m),f=r.config.branch,b=!o(r.status.state),v=n.isEditable&&b,j=v||n.isInSelectionMode;return(0,s.jsxs)(s.Fragment,{children:[v&&(0,s.jsx)(x.s,{projectUuid:t,location:a,isOpen:c,onClose:()=>u(!1),syncSource:r}),(0,s.jsx)(g,{...n,syncSourceType:r.type,syncStatus:r.status.state,title:p,subtitle:f,handleClick:j?()=>{if(n.isInSelectionMode){var e;null==(e=n.handleSelect)||e.call(n,!0,!1)}u(!0)}:void 0,actions:l,isSyncing:i})]})},w=e=>{let{syncSource:t,actions:r,isSyncing:a,...l}=e,i=(0,p.d)(t.config.uri),{title:n,isLoading:o}=(0,u.zF)({uri:t.config.uri}),d=l.isInSelectionMode?()=>{var e;null==(e=l.handleSelect)||e.call(l,!0,!1)}:void 0;return(0,s.jsx)(g,{handleClick:d,...l,syncSourceType:t.type,syncStatus:t.status.state,title:n,url:i,isLoading:l.isLoading||o,actions:r,isSyncing:a})},N=e=>{let{syncSource:t,actions:r,isSyncing:a,...l}=e,i=(0,p.S)(t.config.outline_uri),{title:n,isLoading:o}=(0,h.n0)({uri:t.config.outline_uri}),d=l.isInSelectionMode?()=>{var e;null==(e=l.handleSelect)||e.call(l,!0,!1)}:void 0;return(0,s.jsx)(g,{handleClick:d,...l,syncSourceType:t.type,syncStatus:t.status.state,title:n,url:i,isLoading:l.isLoading||o,actions:r,isSyncing:a})},_=e=>{let{projectUuid:t,syncSource:r,isEditable:l=!1,location:i,actions:o,isSyncing:d,...c}=e;return(null==r?void 0:r.type)?r.type===n.v8.GITHUB?(0,s.jsx)(y,{...c,projectUuid:t,syncSource:r,isEditable:l,location:i,actions:o,isSyncing:d}):r.type===n.v8.GDRIVE?(0,s.jsx)(w,{...c,syncSource:r,isEditable:l,actions:o,isSyncing:d}):r.type===n.v8.OUTLINE?(0,s.jsx)(N,{...c,syncSource:r,isEditable:l,actions:o,isSyncing:d}):void 0:(0,s.jsx)(a.NG,{})}},82200:(e,t,r)=>{r.d(t,{mq:()=>l,t1:()=>n,wC:()=>o});var s=r(54568),a=r(7620),l=function(e){return e.IDLE="IDLE",e.DRAGGING_OFF_TARGET="DRAGGING_OFF_TARGET",e.DRAGGING_ON_TARGET="DRAGGING_ON_TARGET",e.DROPPED="DROPPED",e}({});let i=(0,a.createContext)(void 0),n=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useDropZone must be used within a DropZoneProvider");return e},o=e=>{let{onDrop:t,children:r,className:l,disabled:n=!1}=e,[o,d]=(0,a.useState)("IDLE"),c=a.useRef(null),u=(0,a.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),(null==(t=c.current)?void 0:t.contains(e.target))?d("DRAGGING_ON_TARGET"):d("DRAGGING_OFF_TARGET")},[]),h=(0,a.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),(null==(t=c.current)?void 0:t.contains(e.relatedTarget))||e.target!==document.body&&null!==e.relatedTarget||d("IDLE")},[]),m=(0,a.useCallback)(e=>{var t;(null==(t=c.current)?void 0:t.contains(e.target))||(e.preventDefault(),d("IDLE"))},[]),x=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t(e),d("DROPPED"),setTimeout(()=>{d("IDLE")},500)},[t]);return(0,a.useEffect)(()=>{if(!n)return document.body.addEventListener("dragover",u),document.body.addEventListener("dragleave",h),document.body.addEventListener("drop",m),()=>{document.body.removeEventListener("dragover",u),document.body.removeEventListener("dragleave",h),document.body.removeEventListener("drop",m)};d("IDLE")},[u,h,m,x,n]),(0,s.jsx)(i.Provider,{value:{dragState:o,setDragState:d},children:(0,s.jsx)("div",{ref:c,className:l,onDrop:n?void 0:x,children:r})})}},89674:(e,t,r)=>{r.d(t,{j:()=>i,y:()=>l});var s=r(96712),a=r(7620);let l=e=>{let{shouldFocus:t,target:r,delayMs:s=100}=e;(0,a.useEffect)(()=>{if(t&&r){let e=setTimeout(()=>{var e;null==(e=r.current)||e.focus()},s);return()=>clearTimeout(e)}},[t,r,s])},i=(e,t)=>{let r=(0,s.l)(),l=r.get(e),[i,n]=(0,a.useState)(void 0!==l?"true"===l:t);return[i,(0,a.useCallback)(t=>{n(s=>{let a="function"==typeof t?t(s):t;return r.set(e,a.toString()),a})},[r,e])]}},96784:(e,t,r)=>{r.d(t,{F:()=>l});var s=r(46612),a=r(7620);function l(e){let{skip:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[l,i]=(0,a.useState)(e.length/s.t2*.8),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!t){if(!n.current){if("undefined"==typeof Worker)return;try{let e=new Worker(r.tu(new URL(r.p+r.u(3572),r.b)));e.onmessage=e=>i(e.data),n.current=e}catch(t){var e;throw(null==t||null==(e=t.toString)?void 0:e.call(t).includes("Invalid URL"))&&console.error("useTokenCounter invalid URL error hit; baseUrl = ‘".concat("file:///app/packages/chat/utils/useTokenCounter.tsx","’")),t}}return()=>{var e;null==(e=n.current)||e.terminate(),n.current=null}}},[t]),(0,a.useEffect)(()=>{n.current&&n.current.postMessage(e)},[e]),l}}}]);