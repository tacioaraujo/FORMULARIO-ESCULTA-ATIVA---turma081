(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1579],{615:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(32987);let a=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,i=r.$,s=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:l}=t,u=Object.keys(s).map(e=>{let t=null==n?void 0:n[e],r=null==l?void 0:l[e];if(null===t)return null;let i=a(t)||a(r);return s[e][i]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return i(e,u,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...l,...o}[t]):({...l,...o})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},2341:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,N:()=>l});var r=n(54568),a=n(7620);let i=(0,a.createContext)(null),s=()=>{let e=(0,a.useContext)(i);return void 0===e?null:e},l=e=>{let{children:t,settings:n}=e;return(0,r.jsx)(i.Provider,{value:n,children:t})}},5984:(e,t,n)=>{var r=n(7692),a=n(26087),i=n(52968),s=0/0,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return s;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||o.test(e)?c(e.slice(2),n?2:8):l.test(e)?s:+e}},6363:(e,t,n)=>{var r=n(83539),a=n(5984);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=a(n))==n?n:0),void 0!==t&&(t=(t=a(t))==t?t:0),r(a(e),t,n)}},7692:(e,t,n)=>{var r=n(27230),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},7726:(e,t,n)=>{"use strict";n.d(t,{sk:()=>_,dy:()=>C,Rs:()=>Y,Fn:()=>L,CW:()=>U,bT:()=>Q,t7:()=>z,Vt:()=>H,uE:()=>j,OZ:()=>K,$z:()=>b,O2:()=>k,mz:()=>x,FG:()=>T,Bq:()=>S,EV:()=>w,Lo:()=>q,_W:()=>M,yu:()=>P,HA:()=>N,HF:()=>R,Pt:()=>E,HI:()=>A,Du:()=>O,wR:()=>I,aC:()=>Z,gG:()=>V,lj:()=>D});var r=n(98518),a=n(77186),i=n(1761),s=n(2341),l=n(53248),u=n(71473),o=n(7620);function c(e){let t=JSON.stringify(e);return(0,o.useMemo)(()=>e,[t])}var d=n(75632),h=n(70825),v=n(87606),p=n(7703),f=n(92012),g=n.n(f),m=n(62942),y=n(57067);let b=e=>{let t=(0,v.useQueryClient)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid,[a,s]=(0,o.useReducer)(e=>e+1,0),l=c([u.fC,{orgUUID:r},{uuid:e}]),d=(0,o.useMemo)(()=>t.getQueryData(l),[t,l,e,a]);return(0,o.useEffect)(()=>t.getQueryCache().subscribe(e=>{"updated"===e.type&&"success"===e.action.type&&(0,p.MK)({queryKey:l},e.query)&&s()}),[t,s,l]),{data:d}},x=e=>{let t=(0,v.useQueryClient)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid,a=c([u.fC,{orgUUID:r},{uuid:e}]);return t.getQueryData(a)},_=30,C=1e4,w=e=>{let{limit:t,offset:n,enabled:r=!0,starred:s}=e,{activeOrganization:l}=(0,i.YL)(),o=null==l?void 0:l.uuid,c=new URLSearchParams;void 0!==t&&c.append("limit",t.toString()),void 0!==n&&c.append("offset",n.toString()),void 0!==s&&c.append("starred",s.toString());let d=c.toString();return d=d?"?".concat(d):"",(0,a.Sk)("/api/organizations/".concat(null!=o?o:"","/chat_conversations").concat(d),{queryKey:[u.DC,{orgUUID:o},{limit:t,offset:n,starred:s}],staleTime:3e5,enabled:!!o&&r})},L=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(t,"/chat_conversations/count_all"),{queryKey:[u.Ad,{orgUUID:t}],staleTime:3e5,enabled:!!t})},j=()=>{let{activeOrganization:e}=(0,i.YL)(),t=(0,a.mn)();return(0,o.useCallback)(async n=>{let{limit:r,offset:a}=n,i=new URLSearchParams;void 0!==r&&i.append("limit",r.toString()),void 0!==a&&i.append("offset",a.toString());let s=i.toString();return s=s?"?".concat(s):"",(await t("/api/organizations/".concat(null==e?void 0:e.uuid,"/chat_conversations").concat(s))).json()},[null==e?void 0:e.uuid,t])},S=function(e){let{suppressError:t,enabled:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0},{activeOrganization:r}=(0,i.YL)(),s=null==r?void 0:r.uuid,l=(0,o.useRef)([]),c=(0,v.useQueryClient)(),d="/api/organizations/".concat(null!=s?s:"","/chat_conversations/").concat(e,"?tree=True&rendering_mode=messages&render_all_tools=true"),h=(0,a.Sk)(d,{queryKey:[u.fC,{orgUUID:s},{uuid:e}],staleTime:3e5,enabled:!!s&&!!e&&n,meta:{noToast:t}},t=>(c.invalidateQueries({queryKey:[u.XF,{orgUUID:s,conversationUUID:e}]}),(0,y.H6)(t))),p=(0,o.useMemo)(()=>{if(!h.data)return l.current=[],l.current;let e=(0,y.$)(h.data);if(e.length!==l.current.length||e.some((e,t)=>{var n;return e.uuid!==(null==(n=l.current[t])?void 0:n.uuid)}))return l.current=e,l.current;for(let t=0;t<e.length;t++)g()(e[t],l.current[t])||(l.current[t]=e[t]);return l.current},[h.data]);return{...h,currentPath:p}},M=e=>{let t=(0,v.useQueryClient)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid;return(0,o.useCallback)(()=>{t.invalidateQueries({queryKey:[u.fC,{orgUUID:r},{uuid:e}]})},[t,r,e])},Q=(e,t)=>{let{mutateAsync:n}=U(),r=(0,m.useRouter)(),a=t||(0,d.N)();return(0,o.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{model:void 0,controlsOpen:!1},i={uuid:a,name:"",model:t.model};t.createMode&&(i.create_mode=t.createMode),t.projectUuid&&(i.project_uuid=t.projectUuid),n(i).then(()=>{let n="/chat/".concat(a).concat(t.controlsOpen?"?controls=1":"");r[e](n)}).catch(e=>{(0,h.Cp)(e)})},[n,r,e,a])},U=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,n=(0,v.useQueryClient)(),r=e=>[u.fC,{orgUUID:t},{uuid:e}];return(0,a.L2)("/api/organizations/".concat(null!=t?t:"","/chat_conversations"),"POST",{enabled:!!t,onSuccess:e=>{n.setQueryData(r(e.uuid),t=>({...t||{},...e,chat_messages:(null==t?void 0:t.chat_messages)||[],messageByUuid:new Map,parentByChildUuid:new Map,childrenByParentUuid:new Map,selectedChildByUuid:new Map}))}})},z=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,n=(0,v.useQueryClient)();return(0,a.Qv)(e=>{let{uuid:n}=e;return"/api/organizations/".concat(null!=t?t:"","/chat_conversations/").concat(n)},"DELETE",(e,t)=>{let{uuid:n}=e;if(!t)return[];let r=t.findIndex(e=>e.uuid===n);if(!(r>-1))return t;{let e=[...t];return e.splice(r,1),e}},{enabled:!!t,queryKey:[u.DC,{orgUUID:t}],onSuccess:async(e,r)=>{let{uuid:a,projectUuid:i}=r;await n.invalidateQueries({queryKey:[u.fC,{orgUUID:t},{uuid:a}]}),i&&await n.invalidateQueries({queryKey:[u.yF,{orgUuid:t,projectUuid:i}]}),await F(n,t)}})},H=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,r=(0,v.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/chat_conversations/delete_many"),"POST",{onSuccess:async t=>{await F(r,n),e&&e(t)}})},P=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(t,"/shares"),{queryKey:[u._J,{orgUUID:t}],enabled:!!t,staleTime:3e5})},k=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/latest"),{enabled:!!n&&!!e,queryKey:[u.XF,{orgUUID:n,conversationUUID:e}],staleTime:0,meta:{noToast:!0}},e=>{let{snapshot:t,shareable:n,disabled_reason:r}=e;return{shareable:n,disabled_reason:r,snapshot:t?{...t,chat_messages:t.chat_messages.map(e=>(0,y.XU)(e))}:null}})},T=e=>{let{activeOrganization:t,account:n}=(0,i.YL)(),r=null==t?void 0:t.uuid,s=n&&r?"/api/organizations/".concat(r,"/chat_snapshots/").concat(e,"?rendering_mode=messages&render_all_tools=true"):"/api/chat_snapshots/".concat(e,"?rendering_mode=messages&render_all_tools=true");return(0,a.Sk)(s,{retry:!1,refetchInterval:!1,enabled:!!e,staleTime:0,queryKey:[u.Bn,{orgUUID:r,snapshotUUID:e}]},e=>({...e,chat_messages:e.chat_messages.map(e=>(0,y.XU)(e))}))},O=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,r=(0,v.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/share"),"POST",{onSuccess:()=>{r.invalidateQueries({queryKey:[u.XF,{orgUUID:n,conversationUUID:e}]}),r.invalidateQueries({queryKey:[u._J,{orgUUID:n}]}),r.invalidateQueries({queryKey:[u.A2,{orgUUID:n}]})}})},V=(e,t)=>{let{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid,s=(0,v.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(r,"/share/").concat(t),"DELETE",{enabled:!!r&&!!t,meta:{errorMessage:"There was an error while trying to unshare the conversation. Please try again."},onSuccess:()=>{s.invalidateQueries({queryKey:[u.XF,{orgUUID:r,conversationUUID:e}]}),s.invalidateQueries({queryKey:[u._J,{orgUUID:r}]}),s.invalidateQueries({queryKey:[u.A2,{orgUUID:r}]})}})},q=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/artifact-versions/").concat(e),{retry:!1,refetchInterval:!1,enabled:!!e&&!!n,staleTime:0,queryKey:[u.Fz,{artifactVersionUUID:e}]})},N=function(e,t,n){var l,o,c;let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{track:h}=(0,r.st)(),p=null!=(o=null==(l=(0,s.B)())?void 0:l.preview_feature_uses_artifacts)&&o,{activeOrganization:f}=(0,i.YL)(),g=null==f?void 0:f.uuid,m=(0,v.useQueryClient)(),y=[u.fC,{orgUUID:g},{uuid:e}];return(0,a.L2)("/api/organizations/".concat(null!=g?g:"","/chat_conversations/").concat(e,"/chat_messages/").concat(null!=(c=t.uuid)?c:"","/chat_feedback"),t.chat_feedback?"PUT":"POST",{enabled:!!g,meta:{errorMessage:"We could not save your feedback. Please try again later."},...d,onSuccess(){for(var r,a,i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];h({event_key:"claudeai.conversation.feedback.sent",message_uuid:t.uuid,conversation_uuid:e,artifacts_enabled:p,conversationHasArtifacts:n,type:null==(r=t.chat_feedback)?void 0:r.type}),m.invalidateQueries({queryKey:y}),null==(a=d.onSuccess)||a.call(d,...s)}})},B=()=>{let e=(0,v.useQueryClient)(),{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,o.useCallback)((t,r)=>{t&&(e.setQueryData([u.fC,{orgUUID:n},{uuid:t}],e=>e&&{...e,...r}),e.setQueriesData({queryKey:[u.DC,{orgUUID:n}]},e=>null==e?void 0:e.map(e=>e.uuid!==t?e:{...e,...r})))},[n,e])},A=e=>{let t=(0,v.useQueryClient)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid,s=B();return(0,a.L2)("/api/organizations/".concat(r,"/chat_conversations/").concat(e),"PUT",{onMutate:n=>{var a;let{name:i}=n,l=t.getQueryData([u.fC,{orgUUID:r},{uuid:e}]);return s(e,{name:i}),{oldTitle:null!=(a=null==l?void 0:l.name)?a:""}},onError(t,n,r){r&&s(e,{name:r.oldTitle})}})},K=e=>{let t=B(),{activeOrganization:n}=(0,i.YL)();return(0,a.L2)("/api/organizations/".concat(null==n?void 0:n.uuid,"/chat_conversations/").concat(e,"/title"),"POST",{onSuccess(n){let{title:r}=n;t(e,{name:null!=r?r:""})},meta:{noToast:!0}})};function Y(e){var t,n;let r=(0,l.C)(e),a=e.attachments.map(e=>e.extracted_content).join(" ");return r+" "+a+" "+((null==(t=e.content)?void 0:t.filter(e=>"tool_use"===e.type).map(e=>e.input?JSON.stringify(e.input):e.partial_json||"").join(" "))||"")+" "+((null==(n=e.content)?void 0:n.filter(e=>"tool_result"===e.type).flatMap(e=>e.content.filter(e=>"text"===e.type).map(e=>e.text)).join(" "))||"")}let Z=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,a.L2)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/stop_response"),"POST")},E=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,a.L2)(e=>{let{conversation_uuid:n}=e;return"/api/organizations/".concat(t,"/chat_conversations/").concat(n,"/tool_result")},"POST",{enabled:!!t,meta:{errorMessage:"We could not record the tool result. Please try again later."},transformVariables:e=>{let{conversation_uuid:t,...n}=e;return n}})},D=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,a.L2)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/current_leaf_message_uuid"),"PUT")},R=(e,t)=>{let{activeOrganization:n}=(0,i.YL)(),r=(0,v.useQueryClient)(),s=null==n?void 0:n.uuid;return(0,a.Qv)("/api/organizations/".concat(s,"/chat_conversations/").concat(e,"?rendering_mode=raw"),"PUT",(e,t)=>t?{...t,settings:{...t.settings,...e.settings}}:void 0,{enabled:!!e,onSuccess:()=>{F(r,s)},onSettled:()=>{(null==t?void 0:t.refetchOnSettled)&&r.refetchQueries({queryKey:[u.fC,{orgUUID:s},{uuid:e}]})},queryKey:[u.fC,{orgUUID:s},{uuid:e}]})},F=async(e,t)=>{await Promise.all([e.invalidateQueries({queryKey:[u.DC,{orgUUID:t}]}),e.invalidateQueries({queryKey:[u.Ad,{orgUUID:t}]})])},I=e=>{let{activeOrganization:t}=(0,i.YL)(),n=(0,v.useQueryClient)(),r=null==t?void 0:t.uuid;return(0,a.Qv)("/api/organizations/".concat(r,"/chat_conversations/").concat(e,"?rendering_mode=raw"),"PUT",(e,t)=>t?{...t,...e}:void 0,{onSuccess:()=>{F(n,r)},queryKey:[u.fC,{orgUUID:r},{uuid:e}]})}},14799:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(54568),a=n(32987);function i(e){let{className:t}=e;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 184 40",className:(0,a.A)("text-text-000",t),fill:"currentColor",children:[(0,r.jsx)("path",{shapeRendering:"optimizeQuality",fill:"#D97757",d:"m7.75 26.27 7.77-4.36.13-.38-.13-.21h-.38l-1.3-.08-4.44-.12-3.85-.16-3.73-.2-.94-.2L0 19.4l.09-.58.79-.53 1.13.1 2.5.17 3.75.26 2.72.16 4.03.42h.64l.09-.26-.22-.16-.17-.16-3.88-2.63-4.2-2.78-2.2-1.6L3.88 11l-.6-.76-.26-1.66L4.1 7.39l1.45.1.37.1 1.47 1.13 3.14 2.43 4.1 3.02.6.5.24-.17.03-.12-.27-.45L13 9.9l-2.38-4.1-1.06-1.7-.28-1.02c-.1-.42-.17-.77-.17-1.2L10.34.21l.68-.22 1.64.22.69.6 1.02 2.33 1.65 3.67 2.56 4.99.75 1.48.4 1.37.15.42h.26v-.24l.21-2.81.39-3.45.38-4.44.13-1.25.62-1.5L23.1.57l.96.46.79 1.13-.11.73-.47 3.05-.92 4.78-.6 3.2h.35l.4-.4 1.62-2.15 2.72-3.4 1.2-1.35 1.4-1.49.9-.71h1.7l1.25 1.86-.56 1.92-1.75 2.22-1.45 1.88-2.08 2.8-1.3 2.24.12.18.31-.03 4.7-1 2.54-.46 3.03-.52 1.37.64.15.65-.54 1.33-3.24.8-3.8.76-5.66 1.34-.07.05.08.1 2.55.24 1.09.06h2.67l4.97.37 1.3.86.78 1.05-.13.8-2 1.02-2.7-.64-6.3-1.5-2.16-.54h-.3v.18l1.8 1.76 3.3 2.98 4.13 3.84.21.95-.53.75-.56-.08-3.63-2.73-1.4-1.23-3.17-2.67h-.21v.28l.73 1.07 3.86 5.8.2 1.78-.28.58-1 .35-1.1-.2L26 33.14l-2.33-3.57-1.88-3.2-.23.13-1.11 11.95-.52.61-1.2.46-1-.76-.53-1.23.53-2.43.64-3.17.52-2.52.47-3.13.28-1.04-.02-.07-.23.03-2.36 3.24-3.59 4.85-2.84 3.04-.68.27-1.18-.61.11-1.09.66-.97 3.93-5 2.37-3.1 1.53-1.79-.01-.26h-.09L6.8 30.56l-1.86.24-.8-.75.1-1.23.38-.4 3.14-2.16Z"}),(0,r.jsx)("path",{shapeRendering:"optimizeQuality",d:"M64.48 33.54c-5.02 0-8.45-2.8-10.07-7.11a19.19 19.19 0 0 1-1.23-7.03c0-7.23 3.24-12.25 10.4-12.25 4.81 0 7.78 2.1 9.47 7.11h2.06l-.28-6.91c-2.88-1.86-6.48-2.8-10.86-2.8-6.17 0-11.42 2.76-14.34 7.74a16.77 16.77 0 0 0-2.22 8.65c0 5.53 2.61 10.43 7.51 13.15a17.51 17.51 0 0 0 8.73 2.06c4.78 0 8.57-.91 11.93-2.5l.87-7.62h-2.1c-1.26 3.48-2.76 5.57-5.25 6.68-1.22.55-2.76.83-4.62.83ZM86.13 7.15l.2-3.4h-1.42l-6.32 1.9v1.03l2.8 1.3v23.78c0 1.62-.83 1.98-3 2.25v1.74h10.75v-1.74c-2.18-.27-3-.63-3-2.25V7.16Zm42.75 29h.83l7.27-1.38v-1.78l-1.02-.08c-1.7-.16-2.14-.51-2.14-1.9V18.33l.2-4.07h-1.15l-6.87.99v1.74l.67.12c1.86.27 2.41.79 2.41 2.09v11.3c-1.78 1.38-3.48 2.25-5.5 2.25-2.24 0-3.63-1.14-3.63-3.8V18.34l.2-4.07h-1.18l-6.88.99v1.74l.71.12c1.86.27 2.41.79 2.41 2.09v10.43c0 4.42 2.5 6.52 6.48 6.52 3.04 0 5.53-1.62 7.4-3.87l-.2 3.87ZM108.9 22.08c0-5.65-3-7.82-8.42-7.82-4.78 0-8.25 1.98-8.25 5.26 0 .98.35 1.73 1.06 2.25l3.64-.48c-.16-1.1-.24-1.77-.24-2.05 0-1.86.99-2.8 3-2.8 2.97 0 4.47 2.09 4.47 5.45v1.1l-7.5 2.25c-2.5.68-3.92 1.27-4.87 2.65a5 5 0 0 0-.7 2.8c0 3.2 2.2 5.46 5.96 5.46 2.72 0 5.13-1.23 7.23-3.56.75 2.33 1.9 3.56 3.95 3.56 1.66 0 3.16-.67 4.5-1.98l-.4-1.38c-.58.16-1.14.24-1.73.24-1.15 0-1.7-.91-1.7-2.69v-8.26Zm-9.6 10.87c-2.05 0-3.32-1.19-3.32-3.28 0-1.42.67-2.25 2.1-2.73l6.08-1.93v5.84c-1.94 1.47-3.08 2.1-4.86 2.1Zm63.3 1.82v-1.78l-1.03-.08c-1.7-.16-2.13-.51-2.13-1.9V7.15l.2-3.4h-1.43l-6.32 1.9v1.03l2.8 1.3v7.82a8.83 8.83 0 0 0-5.37-1.54c-6.28 0-11.18 4.78-11.18 11.93 0 5.89 3.52 9.96 9.32 9.96 3 0 5.61-1.46 7.23-3.72l-.2 3.72h.84l7.27-1.38Zm-13.16-18.14c3 0 5.25 1.74 5.25 4.94v9a7.2 7.2 0 0 1-5.21 2.1c-4.3 0-6.48-3.4-6.48-7.94 0-5.1 2.49-8.1 6.44-8.1Zm28.53 4.5c-.56-2.64-2.18-4.14-4.43-4.14-3.36 0-5.69 2.53-5.69 6.16 0 5.37 2.84 8.85 7.43 8.85a8.6 8.6 0 0 0 7.39-4.35l1.34.36c-.6 4.66-4.82 8.14-10 8.14-6.08 0-10.27-4.5-10.27-10.9 0-6.45 4.55-10.99 10.63-10.99 4.54 0 7.74 2.73 8.77 7.47l-15.84 4.86v-2.14l10.67-3.31Z"})]})}},16006:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var r=n(7620);function a(e){let[t,n]=(0,r.useState)(null),a=(0,r.useRef)(null);return{ref:(0,r.useCallback)(t=>{if(a.current&&(a.current.disconnect(),a.current=null),null===t)return void n(null);a.current=new IntersectionObserver(e=>{let[t]=e;n(t)},e),a.current.observe(t)},[null==e?void 0:e.rootMargin,null==e?void 0:e.root,null==e?void 0:e.threshold]),entry:t}}},18179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Loading:()=>l});var r=n(54568),a=n(32987),i=n(7620),s=n(62971);let l=(0,i.memo)(function(e){let{size:t="md",fullscreen:n=!1,inheritColor:l,delay:u=0}=e,[o,c]=(0,i.useState)(u>0);return(0,i.useEffect)(()=>{if(!u)return;let e=setTimeout(()=>c(!1),u);return()=>clearTimeout(e)},[u]),(0,r.jsx)("div",{className:(0,a.A)(n?"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2":"m-auto"),children:(0,r.jsx)("div",{className:(0,a.A)("sm"===t&&"h-4 w-4 border-2","md"===t&&"h-20 w-20 border-8",l?"border-current":"border-border-200","text-secondary inline-block animate-spin rounded-full border-solid border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",o&&"hidden"),role:"status",children:(0,r.jsx)("span",{className:"sr-only",children:(0,r.jsx)(s.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})})})},27230:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},32987:(e,t,n)=>{"use strict";function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(a&&(a+=" "),a+=r);else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{$:()=>r,A:()=>a});let a=r},38618:(e,t,n)=>{Promise.resolve().then(n.bind(n,43208))},41417:(e,t,n)=>{"use strict";n.d(t,{$:()=>h});var r=n(54568),a=n(18179),i=n(615),s=n(32987),l=n(27261),u=n.n(l),o=n(7620);let c="\n    text-text-000\n    font-base-bold\n    border-0.5\n    border-border-200\n    relative\n    overflow-hidden\n    transition\n    duration-100\n    hover:border-border-300/0\n    bg-bg-300/0\n    hover:bg-bg-400\n    backface-hidden",d=(0,i.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"bg-text-000\n        text-bg-000\n        font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0",flat:"bg-accent-main-000\n          text-oncolor-100\n          font-base-bold\n          transition-colors\n          hover:bg-accent-main-200",secondary:c,outline:c,ghost:"text-text-300\n          border-transparent\n          transition\n          font-ui\n          tracking-tight\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]\n          hover:bg-bg-300\n          aria-pressed:bg-bg-400\n          aria-checked:bg-bg-400\n          aria-expanded:bg-bg-400\n          hover:text-text-100\n          aria-pressed:text-text-100\n          aria-checked:text-text-100\n          aria-expanded:text-text-100",underline:"opacity-80\n          transition-all\n          active:scale-[0.985]\n          hover:opacity-100\n          hover:underline\n          underline-offset-3",danger:"bg-danger-200\n          text-oncolor-100\n          font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),h=(0,o.forwardRef)((e,t)=>{let{className:n,variant:i,size:l,option:o,loading:c,href:h,onLinkClick:v,target:p,prepend:f,append:g,state:m,disabled:y,children:b,type:x="button",..._}=e;f&&(o="prepend"),g&&(o="append");let C=(0,s.A)(d({variant:i,size:l,option:o,state:m,className:n}),c&&"text-transparent ![text-shadow:_none]"),w=(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)("div",{className:(0,s.A)("absolute inset-0 flex items-center justify-center",i&&"flat"!==i&&"danger"!==i?"secondary"===i?"text-text-400":"text-bg-300":"text-bg-000"),children:(0,r.jsx)(a.Loading,{size:"sm",inheritColor:!0,delay:0})}),f,b,g]});return h?(0,r.jsx)(u(),{href:h,target:p||"_self",className:C,"aria-label":_["aria-label"],onClick:v,children:w}):(0,r.jsx)("button",{className:C,ref:t,disabled:y||c,type:x,..._,children:w})});h.displayName="Button"},42977:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:()=>r})},43208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(54568),a=n(7726),i=n(41417),s=n(44338),l=n(62971);function u(){let e=(0,a.bT)("push");return(0,r.jsx)(s.R,{productSurface:"claude-ai",headline:(0,r.jsx)(l.A,{defaultMessage:"Chat not found",id:"nw4pPHe/as"}),subheading:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{defaultMessage:"The conversation you were looking for could not be found.",id:"Eq9mz3DeNs"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(i.$,{size:"lg",onClick:()=>{e()},children:(0,r.jsx)(l.A,{defaultMessage:"Start a new chat",id:"c/Hjsh8c90"})})]})})}},44338:(e,t,n)=>{"use strict";n.d(t,{R:()=>v});var r=n(42977),a=n(54568),i=n(90510),s=n(90433),l=n(14799),u=n(18179);function o(){let e=(0,r._)(["\n  mx-0\n  mt-4\n  min-w-[16rem]\n"]);return o=function(){return e},e}function c(){let e=(0,r._)(["\n  grid\n  place-content-center\n  min-h-min\n  text-center\n  gap-2\n  pt-24\n  pb-32\n  px-4\n  mx-auto\n  h-screen\n"]);return c=function(){return e},e}function d(){let e=(0,r._)(["\n  font-ui-serif\n  tracking-tighter\n  text-4xl\n  text-text-200\n"]);return d=function(){return e},e}function h(){let e=(0,r._)(["\n  font-large\n  text-text-500\n"]);return h=function(){return e},e}function v(e){let{productSurface:t,headline:n,subheading:r,button:i,testId:o,compact:c,loading:d}=e,h="claude-ai"===t?l.S:s.s;return(0,a.jsx)(f,{"data-testid":o,className:c?"max-w-min":"w-fit",children:d?(0,a.jsx)(u.Loading,{delay:1e3}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-10 text-center",children:(0,a.jsx)(h,{className:"inline-block h-6 -ml-1"})}),(0,a.jsx)(g,{children:n}),r&&(0,a.jsx)(m,{children:r}),(0,a.jsx)(p,{children:i})]})})}n(7620);let p=i.J.div(o()),f=i.J.div(c()),g=i.J.h2(d()),m=i.J.h3(h())},53248:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});let r=e=>{let t="";if(e.content)for(let n of e.content)"text"===n.type&&(t+=n.text);return t}},57067:(e,t,n)=>{"use strict";n.d(t,{$:()=>m,AP:()=>d,GN:()=>o,Gp:()=>c,H6:()=>p,Rh:()=>l,XU:()=>h,ZQ:()=>f,gF:()=>u,gX:()=>y,gv:()=>s,xQ:()=>g});var r=n(70825),a=n(6363),i=n.n(a);let s="new-assistant-message-uuid",l="new-human-message-uuid",u="00000000-0000-4000-8000-000000000000",o=e=>e!==s;function c(e,t){let n=e.get(t);if(void 0===n){let e=Error("Key not found: ".concat(t));throw(0,r.Cp)(e),e}return n}let d=(e,t)=>{let n=null!=t?t:e.current_leaf_message_uuid;if(!n)return e;for(;n!==u;){var r;let t=c(e.parentByChildUuid,n),a=null==(r=c(e.childrenByParentUuid,t))?void 0:r.indexOf(n);e.selectedChildByUuid.set(t,a),n=t}return{...e,current_leaf_message_uuid:t}},h=e=>e.content?e:{...e,content:[{type:"text",text:e.text||"",citations:[]}]},v=e=>{var t,n,r;let a=new Map,i=new Map,s=new Map,l=new Map,o=new Map;if(0===e.chat_messages.length)return{messageByUuid:i,parentByChildUuid:s,childrenByParentUuid:l,selectedChildByUuid:o};let c=e.chat_messages.map(h);for(let e of c)a.set(e.index,e),i.set(e.uuid,e);for(let e of c){let t=e.parent_message_uuid;if(!t){let r=e.index-1;for(;!t&&r>=0;)t=null==(n=a.get(r))?void 0:n.uuid,r--}t=null!=t?t:u,s.set(e.uuid,t),l.set(t,(null!=(r=l.get(t))?r:[]).concat(e.uuid)),o.set(t,0)}if(!(null==(t=l.get(u))?void 0:t[0]))throw Error("No root message found");return{chat_messages:c,messageByUuid:i,parentByChildUuid:s,childrenByParentUuid:l,selectedChildByUuid:o}},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Set;for(let t of e.chat_messages)"assistant"===t.sender&&t.parent_message_uuid&&n.add(t.parent_message_uuid);let r=e.chat_messages.filter(e=>"assistant"===e.sender||n.has(e.uuid)||void 0===e.parent_message_uuid||t),a={...e,chat_messages:r},i={...a,...v(a)};return i.current_leaf_message_uuid||d(i),d(i,a.current_leaf_message_uuid)},f=e=>{let t=Array.from(e.messageByUuid.values()).map(e=>e.index);return 0===t.length?-1:Math.max(...t)},g=(e,t)=>{for(let r of(e.chat_messages=e.chat_messages.concat(t),t)){var n;if(!r.parent_message_uuid)throw Error("Parent UUID required");let t=r.parent_message_uuid;e.messageByUuid.set(r.uuid,r),e.parentByChildUuid.set(r.uuid,t);let a=null!=(n=e.childrenByParentUuid.get(t))?n:[];a.push(r.uuid),e.childrenByParentUuid.set(t,a),e.selectedChildByUuid.set(t,a.length-1)}return d(e,t[t.length-1].uuid)},m=(e,t)=>{let n=[],r=null!=t?t:u;for(;e.childrenByParentUuid.has(r);){let t=c(e.childrenByParentUuid,r);if(0===t.length)break;let a=c(e.selectedChildByUuid,r),i=c(e.messageByUuid,t[a]);n.push({...i,parent_message_uuid:r,nOptions:t.length,selectedOption:a}),r=i.uuid}return n};function y(e,t,n){var r;let a=c(e.parentByChildUuid,t.uuid),s=c(e.childrenByParentUuid,a),l=i()((null!=(r=t.selectedOption)?r:0)+n,0,s.length-1);e.selectedChildByUuid.set(a,l);let u=m(e,a);return d(e,u[u.length-1].uuid)}},62942:(e,t,n)=>{"use strict";var r=n(42418);n.o(r,"notFound")&&n.d(t,{notFound:function(){return r.notFound}}),n.o(r,"redirect")&&n.d(t,{redirect:function(){return r.redirect}}),n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},75632:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});let r=()=>void 0===crypto.randomUUID?"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,e=>{let t=parseInt(e);return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):crypto.randomUUID()},83539:e=>{e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},89598:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(7620);function a(e,t,n){(0,r.useEffect)(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}},90433:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(54568);function a(e){let{height:t=14,className:n}=e;return(0,r.jsxs)("svg",{height:t,className:n,viewBox:"0 0 110 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-label":"Anthropic",children:[(0,r.jsx)("path",{d:"M26.92 2.43646H30.929V11.8011H33.4879V2.43646H37.4969V0.198895H26.92V2.43646Z"}),(0,r.jsx)("path",{d:"M22.3992 8.32044L17.0254 0.198895H14.1253V11.8011H16.5989V3.67956L21.9727 11.8011H24.8728V0.198895H22.3992V8.32044Z"}),(0,r.jsx)("path",{d:"M47.7326 4.8232H42.103V0.198895H39.544V11.8011H42.103V7.06077H47.7326V11.8011H50.2916V0.198895H47.7326V4.8232Z"}),(0,r.jsx)("path",{d:"M4.75962 0.198895L0 11.8011H2.66129L3.63471 9.36464H8.61422L9.58747 11.8011H12.2488L7.48914 0.198895H4.75962ZM4.49553 7.20994L6.12438 3.1326L7.75323 7.20994H4.49553Z"}),(0,r.jsx)("path",{d:"M71.4966 0C68.0506 0 65.611 2.48619 65.611 6.01657C65.611 9.51381 68.0506 12 71.4966 12C74.9256 12 77.348 9.51381 77.348 6.01657C77.348 2.48619 74.9256 0 71.4966 0ZM71.4966 9.67956C69.4836 9.67956 68.2553 8.28729 68.2553 6.01657C68.2553 3.71271 69.4836 2.32044 71.4966 2.32044C73.4926 2.32044 74.7038 3.71271 74.7038 6.01657C74.7038 8.28729 73.4926 9.67956 71.4966 9.67956Z"}),(0,r.jsx)("path",{d:"M107.27 7.90608C106.827 9.03315 105.94 9.67956 104.729 9.67956C102.716 9.67956 101.487 8.28729 101.487 6.01657C101.487 3.71271 102.716 2.32044 104.729 2.32044C105.94 2.32044 106.827 2.96685 107.27 4.09392H109.983C109.318 1.60773 107.322 0 104.729 0C101.283 0 98.843 2.48619 98.843 6.01657C98.843 9.51381 101.283 12 104.729 12C107.339 12 109.335 10.3757 110 7.90608H107.27Z"}),(0,r.jsx)("path",{d:"M90.9615 0.198895L95.7212 11.8011H98.3313L93.5717 0.198895H90.9615Z"}),(0,r.jsx)("path",{d:"M85.5707 0.198895H79.7364V11.8011H82.2953V7.59116H85.5707C88.2832 7.59116 89.938 6.19889 89.938 3.89503C89.938 1.59116 88.2832 0.198895 85.5707 0.198895ZM85.4513 5.35359H82.2953V2.43646H85.4513C86.7137 2.43646 87.379 2.9337 87.379 3.89503C87.379 4.85635 86.7137 5.35359 85.4513 5.35359Z"}),(0,r.jsx)("path",{d:"M63.6492 3.72928C63.6492 1.54144 61.9944 0.198895 59.2819 0.198895H53.4476V11.8011H56.0065V7.25967H58.8553L61.4144 11.8011H64.2463L61.4127 6.91376C62.8349 6.38254 63.6492 5.26392 63.6492 3.72928ZM56.0065 2.43646H59.1625C60.4249 2.43646 61.0903 2.88398 61.0903 3.72928C61.0903 4.57459 60.4249 5.0221 59.1625 5.0221H56.0065V2.43646Z"})]})}},90510:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(32987),a=n(7620);function i(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];let l=t.map(e=>e.replace(/\n/g,"").trim()),u=a.forwardRef((t,n)=>{let{className:s,...u}=t,o=i.map(e=>"function"==typeof e?e(t):e),c=Object.fromEntries(Object.entries(u).filter(e=>{let[t]=e;return!t.startsWith("$")}));return a.createElement(e,{...c,ref:n,className:(0,r.A)(l,o,"string"==typeof s?s:"")})});return u.displayName="string"==typeof e?e:e.displayName,u}}function s(e){return i(e)}s.a=i("a"),s.aside=i("aside"),s.button=i("button"),s.main=i("main"),s.div=i("div"),s.form=i("form"),s.nav=i("nav"),s.fieldset=i("fieldset"),s.header=i("header"),s.h1=i("h1"),s.h2=i("h2"),s.h3=i("h3"),s.h4=i("h4"),s.h5=i("h5"),s.th=i("th"),s.td=i("td"),s.input=i("input"),s.label=i("label"),s.p=i("p"),s.section=i("section"),s.span=i("span"),s.li=i("li"),s.table=i("table"),s.thead=i("thead"),s.tbody=i("tbody"),s.tr=i("tr")},92012:(e,t,n)=>{var r=n(89412);e.exports=function(e,t){return r(e,t)}}},e=>{var t=t=>e(e.s=t);e.O(0,[2971,2846,7261,5006,1036,9474,5015,7773,1761,8518,587,842,3383,7358],()=>t(38618)),_N_E=e.O()}]);