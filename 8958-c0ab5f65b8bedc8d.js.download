"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8958],{15070:(e,n,i)=>{i.d(n,{b:()=>l});var a=i(65631),t=i(7620),r=i(1761);function l(e){let{account:n,activeOrganization:i}=(0,r.YL)();return(0,t.useMemo)(()=>(0,a.yI)(n,i,e),[n,i,e])}},34116:(e,n,i)=>{i.d(n,{C:()=>V,Cm:()=>ee,Ew:()=>K,Jh:()=>b,L3:()=>O,Le:()=>f,N_:()=>$,Nb:()=>L,PI:()=>W,PQ:()=>S,Pz:()=>_,Qn:()=>k,Si:()=>H,UK:()=>X,Uu:()=>J,VK:()=>A,Xi:()=>D,Xt:()=>Q,ZA:()=>I,Zr:()=>h,_D:()=>B,a1:()=>E,bF:()=>U,bt:()=>T,c:()=>C,cR:()=>R,cg:()=>P,e0:()=>x,fS:()=>Z,jH:()=>en,jN:()=>w,k0:()=>q,lG:()=>z,rB:()=>F,sd:()=>N,uS:()=>j,wu:()=>G,xy:()=>ei,yS:()=>M});var a=i(77186),t=i(1761),r=i(51121),l=i(15070),u=i(29585),o=i(71473),s=i(65631),c=i(87606),d=i(7620),v=i(95751),y=i(92249),p=i(38728),g=i(92075),m=i(40459);function _(e){let{onSuccess:n,onError:i}=e,{activeOrganization:r}=(0,t.YL)(),{data:l,variables:u,...o}=(0,a.L2)("/api/billing/".concat(null==r?void 0:r.uuid,"/consumer_pricing"),"POST",{enabled:!!r,meta:{noToast:!0},onError:i,onSuccess:n}),[s,c]=(0,d.useState)(),[v,y]=(0,d.useState)();return(0,d.useEffect)(()=>{l&&(c(l),y(u))},[l,u]),{data:s,variables:v,...o}}function b(e){let{onError:n}=e,{activeOrganization:i}=(0,t.YL)(),{data:r,variables:l,...u}=(0,a.L2)("/api/billing/".concat(null==i?void 0:i.uuid,"/cw_pricing"),"POST",{enabled:!!i,meta:{noToast:!0},onError:n}),[o,s]=(0,d.useState)(),[c,v]=(0,d.useState)();return(0,d.useEffect)(()=>{r&&(s(r),v(l))},[r,l]),{data:o,variables:c,...u}}function f(){var e,n,i,r;let{perBillingPeriod:l,onSuccess:u,onError:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:s}=(0,t.YL)(),[c,y]=(0,d.useState)(null),[p,g]=(0,d.useState)(),{data:m,isPending:_,error:b,mutate:f}=(0,a.L2)("/api/billing/".concat(null==s?void 0:s.uuid,"/individual_plan_pricing/v2"),"POST",{enabled:!!s,meta:{noToast:!0},onError:o,onSuccess:u});(0,d.useEffect)(()=>{m&&g(m)},[m]);let h=p||m,S=h&&{country:h.country,currency:h.currency,price:l?null==(e=h.product_prices_per_billing_period)?void 0:e.max_5x_monthly:null==(n=h.product_prices_due_today)?void 0:n.max_5x_monthly,planType:v.un.FIVE_X};return{fiveXPricing:S,twentyXPricing:h&&{country:h.country,currency:h.currency,price:l?null==(i=h.product_prices_per_billing_period)?void 0:i.max_20x_monthly:null==(r=h.product_prices_due_today)?void 0:r.max_20x_monthly,planType:v.un.TWENTY_X},isPending:_,error:b,fetchAllPricing:(0,d.useCallback)(e=>{y(e),e.noCache&&g(void 0),f(e)},[f]),addressParams:c}}let h=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.Sk)("/api/billing/".concat(null==e?void 0:e.uuid,"/reset_pricing"),{enabled:!!e,meta:{noToast:!0}})},S=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription"),"PUT",{enabled:!!e})},L=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription/verify-payment"),"POST",{enabled:!!e})},Q=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription/cw"),"PUT",{enabled:!!e})},q=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/rate_limit_reset"),"POST",{enabled:!!e})};function w(e){var n;let{activeOrganization:i}=(0,t.YL)(),r=(0,t.h0)();return(0,a.Sk)("/api/organizations/".concat(null==i?void 0:i.uuid,"/subscription_details"),{queryKey:[o.Gn,null==i?void 0:i.uuid],staleTime:0,initialData:null==e?void 0:e.initialData,refetchOnMount:null==e||!e.forceRefetch||"always",enabled:!!i&&r&&(null==(n=null==e?void 0:e.enabled)||n),meta:{noToast:e=>e instanceof u.LG&&404===e.statusCode}})}function K(e){var n;let{activeOrganization:i}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null==i?void 0:i.uuid,"/trial_status"),{queryKey:[o.nb,null==i?void 0:i.uuid],enabled:!!i&&(null==(n=null==e?void 0:e.enabled)||n),meta:{noToast:e=>e instanceof u.LG&&404===e.statusCode}})}function T(){let{activeOrganization:e}=(0,t.YL)(),n=(0,c.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/acknowledge_trial_end"),"POST",{enabled:!!e,meta:{noToast:!0},onSuccess:()=>{n.setQueryData([o.nb,null==e?void 0:e.uuid],e=>{if(e)return{...e,trial_end_requires_action:!1}})}})}let x=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{addError:a}=(0,r.Y)(),t=(0,c.useQueryClient)(),l=(0,y.UV)(e,{...i,async onSuccess(r,u,s){var c;if("payment_intent_client_secret"in r){let e=await n;return e?(await e.confirmPayment({clientSecret:r.payment_intent_client_secret,redirect:"if_required"})).error?void a("Payment confirmation failed. Please try again."):void l.mutate(u):void a("Stripe failed to initialize. Please try again.")}t.invalidateQueries({queryKey:[o.MJ,e]}),t.invalidateQueries({queryKey:[o._S,e]}),await (null==(c=i.onSuccess)?void 0:c.call(i,r,u,s))}});return l},z=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{addError:a}=(0,r.Y)(),t=(0,c.useQueryClient)(),l=(0,y.tH)(e,{...i,async onSuccess(r,u,s){var c;if("payment_intent_client_secret"in r){let e=await n;return e?(await e.confirmPayment({clientSecret:r.payment_intent_client_secret,redirect:"if_required"})).error?void a("Payment confirmation failed. Please try again."):void l.mutate(u):void a("Stripe failed to initialize. Please try again.")}t.invalidateQueries({queryKey:[o.MJ,e]}),t.invalidateQueries({queryKey:[o._S,e]}),await (null==(c=i.onSuccess)?void 0:c.call(i,r,u,s))}});return l};function Y(){let{activeOrganization:e}=(0,t.YL)(),n=(0,t.mV)();return m.env.NEXT_PUBLIC_DISABLE_PAYMENTS?{data:{status:"active",cancel_at_ts:null},isLoading:!1}:(0,a.Sk)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription_status"),{queryKey:[o._S,null==e?void 0:e.uuid],staleTime:0,enabled:!!e&&n,meta:{noToast:e=>e instanceof u.LG&&404===e.statusCode}})}function P(){let{data:e,isLoading:n}=Y();return{isRavenTrialing:(null==e?void 0:e.status)==="trialing",isLoading:n}}function U(){let{data:e,isLoading:n}=Y();return{isRavenCanceled:(null==e?void 0:e.status)==="canceled"||(null==e?void 0:e.status)==="unpaid",isLoading:n}}function k(){let{data:e,isLoading:n}=Y();return{isRavenPastDue:(null==e?void 0:e.status)==="past_due",isLoading:n}}function C(){let{data:e,isLoading:n}=Y();return{isRavenPendingCancellation:!!(null==e?void 0:e.cancel_at_ts),isLoading:n}}function M(){let{activeOrganization:e}=(0,t.YL)(),{isRavenCanceled:n,isLoading:i}=U(),{isRavenPastDue:a,isLoading:r}=k(),l=i||r,u=(null==e?void 0:e.billing_type)==="stripe_subscription_contracted";return{isLoading:l,canManageMembers:!l&&!n&&(u||!a)}}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/end_subscription"),"PUT",{...e,onSuccess(n,a,t){var l;i.setQueryData([o.Gn,r],e=>{if(e)return{...e,plan_ending_before:"".concat(n.plan_ends_at,"T00:00:00+00:00")}}),i.invalidateQueries({queryKey:[o._S,r]}),i.invalidateQueries({queryKey:[o.MJ,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(i,"/cancellation_survey"),"POST",{...e,enabled:!!n})}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/resume_subscription"),"PUT",{...e,onSuccess(n,a,t){var l;i.setQueryData([o.Gn,r],e=>{if(e)return{...e,plan_ending_before:null}}),i.invalidateQueries({queryKey:[o._S,r]}),i.invalidateQueries({queryKey:[o.MJ,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(null==n?void 0:n.uuid,"/renew_subscription/cw"),"PUT",{...e,onSuccess(a,t,r){var l;i.invalidateQueries({queryKey:[o.Gn,null==n?void 0:n.uuid]}),i.invalidateQueries({queryKey:[o._S,null==n?void 0:n.uuid]}),i.invalidateQueries({queryKey:[o.cc,null==n?void 0:n.uuid]}),i.invalidateQueries({queryKey:[o.MJ,null==n?void 0:n.uuid]}),null==(l=e.onSuccess)||l.call(e,a,t,r)},enabled:!!n})}function N(e){let{limit:n,createdSince:i,organizationUUID:r,meta:l}=e,{activeOrganization:u}=(0,t.YL)(),s=Math.round(i.toSeconds()),c=r||(null==u?void 0:u.uuid);return(0,a.Sk)("/api/stripe/".concat(c,"/invoices?limit=").concat(n,"&created_since_ts=").concat(s),{queryKey:[o.cc,c,{limit:n,created_since_ts:s}],staleTime:0,enabled:!!c,meta:l})}function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,t.mV)();return(0,a.Sk)("/api/stripe/".concat(null==n?void 0:n.uuid,"/upcoming_invoice"),{queryKey:[o.MJ,null==n?void 0:n.uuid],staleTime:0,enabled:!!n&&i,meta:{noToast:e=>e instanceof u.LG&&500===e.statusCode},...e})}function I(){let{activeOrganization:e}=(0,t.YL)(),n=(0,c.useQueryClient)(),i=null==e?void 0:e.uuid;return(0,a.L2)("/api/organizations/".concat(i,"/payment_method/update_latest"),"POST",{onSuccess:async e=>{let a=n.getQueryData([o.Gn,i]);a&&e?n.setQueryData([o.Gn,i],{...a,payment_method:{...e}}):await n.invalidateQueries({queryKey:[o.Gn,i]}),n.invalidateQueries({queryKey:[o._S,i]}),n.invalidateQueries({queryKey:[o.cc,i]})},meta:{noToast:!0}})}function J(){let{data:e,isLoading:n}=(0,p.Nk)(),{data:i,isLoading:a}=(0,y.of)(),r=(0,l.b)(s.Nt.MembersManage),{data:u}=(0,g.U6)(),o=(0,t.zm)(),c=en(),d=n||a||!e||!i||!u;if(d)return{isLoading:d,hasManageMembersPermission:r,membersWithMinApplied:!1,activeMembers:0,invitedMembers:0,unclaimedMembers:0,minimumApplied:!1,memberLimit:0,isUnlimited:!1,unclaimedSeatsByTier:{...Object.fromEntries(c.map(e=>[e,0]))}};let v=e.length,m=i.filter(e=>"pending"===e.status).length,_=v+m,b=Math.max(v+m,5),f=o?u.members_limit-_:Math.max(5-_,0),h=Object.fromEntries(c.map(n=>{var a,t;let r=null!=(t=null==(a=u.seat_tier_quantities)?void 0:a[n])?t:0,l=e.filter(e=>e.seat_tier===n).length,o=i.filter(e=>e.seat_tier===n&&"pending"===e.status).length;return[n,r-(l+o)]}));return{isLoading:d,hasManageMembersPermission:r,totalMembersWithoutMinimumApplied:_,totalMembersWithMinimumApplied:b,activeMembers:v,invitedMembers:m,unclaimedMembers:f,minimumApplied:_<5,memberLimit:u.members_limit,isUnlimited:u.unlimited_members||!1,unclaimedSeatsByTier:h}}function j(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),r="/api/organizations/".concat(null!=(e=null==i?void 0:i.uuid)?e:"","/profile"),l=(0,c.useQueryClient)();return(0,a.L2)(r,"PUT",{...n,async onSuccess(){for(var e,i=arguments.length,a=Array(i),t=0;t<i;t++)a[t]=arguments[t];await l.invalidateQueries({queryKey:[o.Oi]}),await (null==(e=n.onSuccess)?void 0:e.call(n,...a))}})}function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/pro/upgrade_to_yearly"),"PUT",{...e,onSuccess(n,a,t){var l;i.invalidateQueries({queryKey:[o.Gn,r]}),i.invalidateQueries({queryKey:[o._S,r]}),i.invalidateQueries({queryKey:[o.MJ,r]}),i.invalidateQueries({queryKey:[o.cc,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/pro/switch_billing_interval"),"PUT",{...e,onSuccess(n,a,t){var l;i.invalidateQueries({queryKey:[o.Gn,r]}),i.invalidateQueries({queryKey:[o._S,r]}),i.invalidateQueries({queryKey:[o.MJ,r]}),i.invalidateQueries({queryKey:[o.Oi,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/upgrade_to_max"),"PUT",{...e,transformVariables:e=>({max_tier:e.maxTier,promo_code:e.promoCode}),onSuccess(n,a,t){var l;i.invalidateQueries({queryKey:[o.Gn,r]}),i.invalidateQueries({queryKey:[o._S,r]}),i.invalidateQueries({queryKey:[o.MJ,r]}),i.invalidateQueries({queryKey:[o.cc,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/downgrade_individual_claude_subscription"),"PUT",{...e,onSuccess(n,a,t){var l;if(n.downgrade_timestamp){let e=new Date(1e3*n.downgrade_timestamp).toISOString();i.setQueryData([o.Gn,r],n=>{if(n)return{...n,scheduled_downgrade:{base_price_in_minor_units:0,billing_interval:a.target_plan_type.includes("annual")?"yearly":"monthly",currency:"USD",date:e,plan_type:a.target_plan_type},has_schedule:!0}})}i.invalidateQueries({queryKey:[o.Gn,r]}),i.invalidateQueries({queryKey:[o._S,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/cancel_subscription_downgrade"),"PUT",{...e,onSuccess(n,a,t){var l;i.setQueryData([o.Gn,r],e=>{if(e)return{...e,scheduled_downgrade:void 0,has_schedule:!1}}),i.invalidateQueries({queryKey:[o.Gn,r]}),i.invalidateQueries({queryKey:[o._S,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function Z(e){let{activeOrganization:n}=(0,t.YL)();return(0,a.Sk)("/api/stripe/".concat(null==n?void 0:n.uuid,"/balance"),{queryKey:["stripe-balance",null==n?void 0:n.uuid],staleTime:18e5,enabled:!!n,...e})}function W(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{activeOrganization:n}=(0,t.YL)(),i=null==n?void 0:n.uuid;return(0,a.Sk)("/api/organizations/".concat(i,"/check_3ds_required"),{enabled:e&&!!n,queryKey:["check-3ds-required",i],meta:{noToast:!0},staleTime:864e5,refetchOnWindowFocus:!1,refetchOnMount:!1})}function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/verify_payment_method_3ds"),"POST",{...e,onSuccess(n,a,t){var l;i.invalidateQueries({queryKey:["check-3ds-required",r]}),i.invalidateQueries({queryKey:[o.Gn,r]}),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}function $(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{activeOrganization:n}=(0,t.YL)(),i=null==n?void 0:n.uuid;return(0,a.Sk)("/api/organizations/".concat(i,"/retention_coupon_eligibility"),{enabled:e&&!!n,queryKey:["retention-coupon-eligibility",i],meta:{noToast:!0},staleTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0})}function ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=(0,c.useQueryClient)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/redeem_retention_coupon"),"POST",{...e,onSuccess(n,a,t){var l;n.success&&(i.invalidateQueries({queryKey:[o.Gn,r]}),i.invalidateQueries({queryKey:[o.MJ,r]})),null==(l=e.onSuccess)||l.call(e,n,a,t)},enabled:!!n})}let en=()=>{var e;let n=(0,l.b)(s.Nt.BillingManage),i=(0,l.b)(s.Nt.BillingView),a=n&&i,{data:t}=w({enabled:a});if(!a||!t)return[];let r=Object.keys(null!=(e=null==t?void 0:t.seat_tier_quantities)?e:{});return r.includes("unassigned")?r:[...r,"unassigned"]},ei=()=>{let e=en();return s.uK.some(n=>e.includes(n))}},38728:(e,n,i)=>{i.d(n,{Nk:()=>s,fp:()=>d,y0:()=>c});var a=i(77186),t=i(1761),r=i(51121),l=i(29585),u=i(71473),o=i(87606);let s=()=>{var e;let{activeOrganization:n}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null!=(e=null==n?void 0:n.uuid)?e:"","/members"),{enabled:!!(null==n?void 0:n.uuid)&&(n.capabilities.includes("api")||n.capabilities.includes("raven")),queryKey:[u.si,{orgUUID:null==n?void 0:n.uuid}],staleTime:0})},c=function(e){var n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:r}=(0,t.YL)(),l=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(null!=(n=null==r?void 0:r.uuid)?n:"","/members/").concat(e),"PUT",{...i,meta:{errorMessage:"There was an error updating the user."},async onSuccess(){for(var e,n=arguments.length,a=Array(n),t=0;t<n;t++)a[t]=arguments[t];await Promise.all([l.invalidateQueries({queryKey:[u.si,{orgUUID:null==r?void 0:r.uuid}]}),l.invalidateQueries({queryKey:[u.ZD,{orgUUID:null==r?void 0:r.uuid}]})]),await (null==(e=i.onSuccess)?void 0:e.call(i,...a))}})},d=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(0,o.useQueryClient)(),{addError:s}=(0,r.Y)(),c="uuid"in n?n.uuid:n.account.uuid,d="email_address"in n?n.email_address:n.account.email_address;return(0,a.L2)("/api/organizations/".concat(e,"/members/").concat(c),"DELETE",{...i,meta:{noToast:!0},async onSuccess(){for(var n,a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];await t.invalidateQueries({queryKey:[u.si,{orgUUID:e}]}),t.invalidateQueries({queryKey:[u.MJ,e]}),t.invalidateQueries({queryKey:[u._S,e]}),await (null==(n=i.onSuccess)?void 0:n.call(i,...r))},onError(e){var n,i;e instanceof l.LG&&(null==(i=e.extra)||null==(n=i.details)?void 0:n.type)==="seat_minimum_reached"?s("You cannot go below 5 members."):s("There was an error removing ".concat(d," from the organization."))}})}},41417:(e,n,i)=>{i.d(n,{$:()=>v});var a=i(54568),t=i(18179),r=i(615),l=i(32987),u=i(27261),o=i.n(u),s=i(7620);let c="\n    text-text-000\n    font-base-bold\n    border-0.5\n    border-border-200\n    relative\n    overflow-hidden\n    transition\n    duration-100\n    hover:border-border-300/0\n    bg-bg-300/0\n    hover:bg-bg-400\n    backface-hidden",d=(0,r.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"bg-text-000\n        text-bg-000\n        font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0",flat:"bg-accent-main-000\n          text-oncolor-100\n          font-base-bold\n          transition-colors\n          hover:bg-accent-main-200",secondary:c,outline:c,ghost:"text-text-300\n          border-transparent\n          transition\n          font-ui\n          tracking-tight\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]\n          hover:bg-bg-300\n          aria-pressed:bg-bg-400\n          aria-checked:bg-bg-400\n          aria-expanded:bg-bg-400\n          hover:text-text-100\n          aria-pressed:text-text-100\n          aria-checked:text-text-100\n          aria-expanded:text-text-100",underline:"opacity-80\n          transition-all\n          active:scale-[0.985]\n          hover:opacity-100\n          hover:underline\n          underline-offset-3",danger:"bg-danger-200\n          text-oncolor-100\n          font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),v=(0,s.forwardRef)((e,n)=>{let{className:i,variant:r,size:u,option:s,loading:c,href:v,onLinkClick:y,target:p,prepend:g,append:m,state:_,disabled:b,children:f,type:h="button",...S}=e;g&&(s="prepend"),m&&(s="append");let L=(0,l.A)(d({variant:r,size:u,option:s,state:_,className:i}),c&&"text-transparent ![text-shadow:_none]"),Q=(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)("div",{className:(0,l.A)("absolute inset-0 flex items-center justify-center",r&&"flat"!==r&&"danger"!==r?"secondary"===r?"text-text-400":"text-bg-300":"text-bg-000"),children:(0,a.jsx)(t.Loading,{size:"sm",inheritColor:!0,delay:0})}),g,f,m]});return v?(0,a.jsx)(o(),{href:v,target:p||"_self",className:L,"aria-label":S["aria-label"],onClick:y,children:Q}):(0,a.jsx)("button",{className:L,ref:n,disabled:b||c,type:h,...S,children:Q})});v.displayName="Button"},92075:(e,n,i)=>{i.d(n,{BH:()=>c,NE:()=>p,Nj:()=>u,QY:()=>y,U6:()=>s,VK:()=>g,iD:()=>o,k3:()=>m,q:()=>d,rX:()=>v});var a=i(77186),t=i(1761),r=i(71473),l=i(87606);let u=e=>(0,a.Sk)("/api/organizations/".concat(e),{queryKey:[r.i5,e],enabled:!!e,staleTime:3e4}),o=()=>{let{activeOrganization:e}=(0,t.YL)(),n=null==e?void 0:e.uuid;return(0,a.Qv)(e=>{let{flagType:i}=e;return"/api/organizations/".concat(n,"/flags/").concat(i,"/dismiss")},"POST",(e,n)=>{let{flagType:i}=e;if(n)return{...n,active_flags:n.active_flags.filter(e=>e.type!==i)}},{queryKey:[r.i5,n]})},s=()=>{let{activeOrganization:e}=(0,t.YL)(),n=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/members_limit"),{queryKey:[r.hz,n],enabled:!!n,staleTime:0})},c=()=>{let{activeOrganization:e}=(0,t.YL)(),n=null==e?void 0:e.uuid,i=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/contracted_quantity"),"PUT",{enabled:!!n,onSuccess:async()=>{await i.invalidateQueries({queryKey:[r.hz,n]})}})},d=()=>{let{activeOrganization:e}=(0,t.YL)(),n=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/public_projects_enabled"),{queryKey:[r._d,n],enabled:!!n,staleTime:0})},v=()=>{let{activeOrganization:e}=(0,t.YL)(),n=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/feature_settings"),{queryKey:[r.RR,n],enabled:!!n,staleTime:0})},y=()=>{var e,n;let{activeOrganization:i}=(0,t.YL)(),{data:a}=u(null==i?void 0:i.uuid);return null==(n=null==a||null==(e=a.settings)?void 0:e.claude_ai_completion_feedback_enabled)||n};function p(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),u="/api/organizations/".concat(null!=(e=null==i?void 0:i.uuid)?e:""),o=(0,l.useQueryClient)();return(0,a.L2)(u,"PUT",{enabled:!!i,...n,async onSuccess(){for(var e,i=arguments.length,a=Array(i),t=0;t<i;t++)a[t]=arguments[t];await Promise.all([o.invalidateQueries({queryKey:[r.Rw]}),o.invalidateQueries({queryKey:[r.i5]})]),await (null==(e=n.onSuccess)?void 0:e.call(n,...a))}})}let g=()=>{let{activeOrganization:e}=(0,t.YL)(),n=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/allowed_domains"),{queryKey:[r.OX,n],enabled:!!n})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),i=null==n?void 0:n.uuid,u=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(i,"/allowed_domains"),"PUT",{enabled:!!i,...e,onSuccess:async function(){for(var n,a=arguments.length,t=Array(a),l=0;l<a;l++)t[l]=arguments[l];await u.invalidateQueries({queryKey:[r.OX,i]}),await (null==(n=e.onSuccess)?void 0:n.call(e,...t))}})}},92249:(e,n,i)=>{i.d(n,{BF:()=>y,UV:()=>c,oF:()=>v,of:()=>s,tH:()=>d});var a=i(77186),t=i(1761),r=i(51121),l=i(29585),u=i(71473),o=i(87606);let s=()=>{var e;let{activeOrganization:n}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null!=(e=null==n?void 0:n.uuid)?e:"","/invites"),{enabled:!!(null==n?void 0:n.uuid)&&(n.capabilities.includes("api")||n.capabilities.includes("raven")),queryKey:[u.ZD,{orgUUID:null==n?void 0:n.uuid}],staleTime:0})},c=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(e,"/invites"),"POST",{...n,async onSuccess(){for(var a,t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];await i.invalidateQueries({queryKey:[u.ZD,{orgUUID:e}]}),i.invalidateQueries({queryKey:[u.MJ,e]}),i.invalidateQueries({queryKey:[u._S,e]}),await (null==(a=n.onSuccess)?void 0:a.call(n,...r))}})},d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(e,"/invites/bulk"),"POST",{...n,async onSuccess(){for(var a,t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];await i.invalidateQueries({queryKey:[u.ZD,{orgUUID:e}]}),i.invalidateQueries({queryKey:[u.MJ,e]}),i.invalidateQueries({queryKey:[u._S,e]}),await (null==(a=n.onSuccess)?void 0:a.call(n,...r))}})},v=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(0,o.useQueryClient)(),{addError:s}=(0,r.Y)();return(0,a.L2)("/api/organizations/".concat(e,"/invites/").concat(n),"DELETE",{...i,meta:{noToast:!0},async onSuccess(){for(var n,a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];await t.invalidateQueries({queryKey:[u.ZD,{orgUUID:e}]}),t.invalidateQueries({queryKey:[u.MJ,e]}),t.invalidateQueries({queryKey:[u._S,e]}),await (null==(n=i.onSuccess)?void 0:n.call(i,...r))},onError(e){var n,i;e instanceof l.LG&&(null==(i=e.extra)||null==(n=i.details)?void 0:n.type)==="seat_minimum_reached"?s("You cannot go below 5 members."):s("There was an error revoking the invite.")}})},y=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(e,"/invites/").concat(n),"PUT",{...i,async onSuccess(){for(var n,a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];await t.invalidateQueries({queryKey:[u.ZD,{orgUUID:e}]}),await (null==(n=i.onSuccess)?void 0:n.call(i,...r))}})}},95751:(e,n,i)=>{i.d(n,{NW:()=>a,un:()=>t});var a=function(e){return e.MONTHLY="monthly",e.YEARLY="yearly",e}({}),t=function(e){return e.FIVE_X="max_5x",e.TWENTY_X="max_20x",e}({})}}]);