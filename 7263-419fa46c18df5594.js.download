"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7263],{19125:(e,t,n)=>{n.d(t,{V:()=>s,W:()=>o});var i=n(30686),r=n(79314);function o(e,t){return(0,i.F)({key:"SSS-".concat(e),defaultValue:t,serialize:JSON.stringify,deserialize:e=>void 0===e?t:JSON.parse(e)})}function s(e,t){return(0,r.M)({key:"LSS-".concat(e),defaultValue:t,serialize:JSON.stringify,deserialize:e=>void 0===e?t:JSON.parse(e),getInitialValueInEffect:!1,sync:!0})}},51121:(e,t,n)=>{n.d(t,{ErrorsProvider:()=>v,Y:()=>p,i:()=>b});var i=n(54568),r=n(63246),o=n(27062),s=n(90819),a=n.n(s),l=n(58648),u=n.n(l),c=n(26836),d=n.n(c),g=n(62942),_=n(7620),f=n(75006),m=n(1761),y=n(19125);let h=(0,_.createContext)(void 0);function v(e){let{children:t}=e,n=(0,_.useRef)(1),[r,o]=(0,_.useState)([]),s=(0,_.useCallback)(e=>{o(t=>t.filter(t=>t.id!==e))},[]),a=(0,_.useCallback)((e,t)=>{let i=n.current++;return o(t=>[...t,{id:i,message:e instanceof Error?e.message:e,toastType:"error"}]),t&&setTimeout(()=>s(i),t),i},[s]),l=(0,_.useCallback)((e,t)=>{let i=n.current++;return o(t=>[...t,{id:i,message:e,toastType:"success"}]),t&&setTimeout(()=>s(i),t),i},[s]),u=(0,_.useMemo)(()=>({toasts:r,addError:a,addSuccess:l,clearToast:s}),[r,a,l,s]);return(0,i.jsx)(h.Provider,{value:u,children:t})}function p(){let e=(0,_.useContext)(h);if(!e)throw Error("Must be called within ErrorsProvider");return e}let k=f.z.object({id:f.z.string().optional().nullable(),title:f.z.string().optional().nullable(),message:f.z.string().optional().nullable(),displayFrequencyHours:f.z.number().optional().nullable()}),S={};function b(){var e;let{id:t,title:n,message:i,displayFrequencyHours:s}=(0,o.iW)("claude_system_message",S,k),{account:l}=(0,m.YL)(),c=null!=(e=null==l?void 0:l.uuid)?e:"logged-out",f=(0,g.usePathname)(),[h,v]=(0,y.V)("dismissed-system-messages",{}),p=(0,_.useMemo)(()=>()=>v(e=>{let n=a()(e);return t&&d()(n,[c,t],Date.now()),n}),[v,c,t]);return(0,_.useMemo)(()=>{if(!l||(0,r.Xs)(l,!0)||"/download"===f||!t)return!1;let e=u()(h,[c,t]);return!e||"boolean"==typeof e||!!s&&Date.now()-e>=60*s*6e4},[l,t,c,h,s,f])?{currentSystemMessageId:t,currentSystemMessageTitle:n,currentSystemMessageContent:i,dismissCurrentSystemMessage:p}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}},63246:(e,t,n)=>{n.d(t,{Ah:()=>s,Bs:()=>r,NJ:()=>o,VH:()=>i,Xs:()=>l,u5:()=>a});let i=e=>{let{account:t,isClaudeDot:n}=e;return n?!1===t.settings.has_finished_claudeai_onboarding:!t.full_name||!t.display_name},r=(e,t)=>t&&!e.is_verified,o=(e,t)=>!!function(e,t){for(let n of e.invites)if(n.organization.capabilities&&n.organization.capabilities.includes(t))return n}(e,t?"raven":"api"),s=(e,t)=>!t&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&t&&!e.age_is_verified},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i({account:e,isClaudeDot:t})||r(e,t)||o(e,t)||s(e,t)||a(e,t,n)}},68096:(e,t,n)=>{n.d(t,{B5:()=>_,BL:()=>S,DK:()=>f,IX:()=>z,Jy:()=>b,Ng:()=>p,Nv:()=>k,QP:()=>C,Z5:()=>v,a0:()=>m,gz:()=>L,kd:()=>w,mY:()=>h,nX:()=>E,vt:()=>g,zt:()=>y});var i=n(98518),r=n(77186),o=n(10158),s=n(29585),a=n(87296),l=n(71473),u=n(21036),c=n(87606),d=n(62942);function g(e,t){return(0,r.Sk)("/api/auth/login_methods?email=".concat(encodeURIComponent(e||""),"&source=").concat(t),{enabled:!!e&&(0,a.B9)(e),meta:{noToast:!0}})}let _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,i.st)(),n=(0,o.fZ)();return(0,r.L2)("/api/auth/send_magic_link","POST",{...e,onSuccess:(n,i,r)=>{n.sso_url?t({event_key:"login.email.sso_initiated"}):t({event_key:"login.email.magic_link_sent"}),e.onSuccess&&e.onSuccess(n,i,r)},onError:(n,i,r)=>{t({event_key:"login.email.magic_link_send_error",error:n.message,error_type:n instanceof s.LG?n.type:"unknown"}),e.onError&&e.onError(n,i,r)},onMutate:e=>{t({event_key:"login.email.sending_magic_link"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.fZ)();return(0,r.L2)("/api/auth/exchange_nonce_for_code","POST",{...e,transformVariables:e=>({...e,source:t?"claude":"console"})})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,i.st)(),n=(0,o.fZ)(),a=(0,o.Mk)(),{client:l}=(0,u.useStatsigClient)();return(0,r.L2)("/api/auth/verify_magic_link","POST",{...e,onSuccess:(n,i,r)=>{"code"===i.credentials.method?t({event_key:"login.email.finished"}):t({event_key:"login.email.magic_link_success"}),T(l,n,t,"email","magic_link",a),e.onSuccess&&e.onSuccess(n,i,r)},onError:(n,i,r)=>{if("code"===i.credentials.method){let e="unknown";"already_used"===n.message?e="already_used":n instanceof s.LG&&"rate_limit_error"===n.type?e="rate_limit":n instanceof s.LG&&400===n.statusCode&&(e="incorrect_code"),t({event_key:"login.email.code_verification_error",error:n.message,error_type:e})}else t({event_key:"login.email.magic_link_verification_error",error:n.message});e.onError&&e.onError(n,i,r)},onMutate:e=>{"code"===e.credentials.method?t({event_key:"login.email.verifying_code"}):t({event_key:"login.email.verifying_magic_link"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,i.st)(),n=(0,o.fZ)(),s=(0,o.Mk)(),a=(0,d.useRouter)(),{client:l}=(0,u.useStatsigClient)();return(0,r.L2)("/api/auth/verify_google","POST",{...e,onSuccess:(n,i,r)=>{!n.success&&n.sso_url?(t({event_key:"login.email.sso_initiated"}),a.push(n.sso_url)):(t({event_key:"login.google.finished"}),T(l,n,t,"google","button",s),e.onSuccess&&e.onSuccess(n,i,r))},onError:(n,i,r)=>{t({event_key:"login.google.verification_error",error:n.message}),e.onError&&e.onError(n,i,r)},onMutate:e=>{t({event_key:"login.google.verifying"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,i.st)(),n=(0,o.fZ)(),s=(0,o.Mk)(),a=(0,d.useRouter)(),{client:l}=(0,u.useStatsigClient)();return(0,r.L2)("/api/auth/verify_google_mobile","POST",{...e,onSuccess:(n,i,r)=>{!n.success&&n.sso_url?(t({event_key:"login.email.sso_initiated"}),a.push(n.sso_url)):(t({event_key:"login.google.finished",flow_type:"one_tap"}),T(l,n,t,"google","onetap",s),e.onSuccess&&e.onSuccess(n,i,r))},onError:(n,i,r)=>{t({event_key:"login.google.verification_error",error:n.message}),e.onError&&e.onError(n,i,r)},onMutate:e=>{t({event_key:"login.google.verifying"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,i.st)(),n=(0,o.fZ)(),s=(0,d.useRouter)();return(0,r.L2)("/api/auth/accept_invite","POST",{...e,onSuccess:(n,i,r)=>{!n.success&&n.sso_url?(t({event_key:"login.email.sso_initiated"}),s.push(n.sso_url)):e.onSuccess&&e.onSuccess(n,i,r)},transformVariables:e=>({...e,source:n?"claude":"console"})})},p=()=>(0,r.L2)("/api/auth/logout","POST"),k=()=>(0,r.L2)("/api/auth/logout/all-sessions","POST"),S=()=>{let e=(0,c.useQueryClient)();return(0,r.L2)("/api/account?statsig_hashing_algorithm=djb2","PUT",{async onSuccess(){await e.invalidateQueries({queryKey:[l.Rw]})}})},b=()=>(0,r.Qv)("/api/account?statsig_hashing_algorithm=djb2","PUT",(e,t)=>(null==t?void 0:t.account)?{...t,account:{...t.account,settings:e}}:t,{queryKey:[l.Rw],transformVariables:e=>({settings:e})}),E=()=>{let e=(0,c.useQueryClient)();return(0,r.L2)("/api/account/accept_legal_docs","PUT",{async onSuccess(){await e.invalidateQueries({queryKey:[l.Rw]})}})};function T(e,t,n,i,r,o){t.created&&n({event_key:"login.account.created",surface:o,authMethod:i,flow:r},t.account)}function w(e){return(0,r.Sk)("/api/signups/".concat(e),{enabled:!!e,staleTime:0})}function z(e){return(0,r.Sk)("/api/enterprise_auth/idp_redirect_url?organization_id=".concat(e),{meta:{noToast:!0}})}function L(e,t,n){return(0,r.Sk)("/api/enterprise_auth/sso_callback?code=".concat(e,"&state=").concat(t,"&source=").concat(n),{meta:{noToast:!0}})}function C(e,t){var n;let i=(0,c.useQueryClient)();return(0,r.L2)("/api/highside/login","GET",{...t,headers:{...null!=(n=t.headers)?n:{},...e},async onSuccess(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];await i.invalidateQueries({queryKey:[l.Rw]}),null==(e=t.onSuccess)||e.call(t,...r)}})}},87296:(e,t,n)=>{n.d(t,{B9:()=>r,Lj:()=>o});let i=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/,r=e=>i.test(e),o=(e,t)=>{if(!t)return!1;let n=e.split("@")[1];return t.includes(n)}},90510:(e,t,n)=>{n.d(t,{J:()=>s});var i=n(32987),r=n(7620);function o(e){return function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];let a=t.map(e=>e.replace(/\n/g,"").trim()),l=r.forwardRef((t,n)=>{let{className:s,...l}=t,u=o.map(e=>"function"==typeof e?e(t):e),c=Object.fromEntries(Object.entries(l).filter(e=>{let[t]=e;return!t.startsWith("$")}));return r.createElement(e,{...c,ref:n,className:(0,i.A)(a,u,"string"==typeof s?s:"")})});return l.displayName="string"==typeof e?e:e.displayName,l}}function s(e){return o(e)}s.a=o("a"),s.aside=o("aside"),s.button=o("button"),s.main=o("main"),s.div=o("div"),s.form=o("form"),s.nav=o("nav"),s.fieldset=o("fieldset"),s.header=o("header"),s.h1=o("h1"),s.h2=o("h2"),s.h3=o("h3"),s.h4=o("h4"),s.h5=o("h5"),s.th=o("th"),s.td=o("td"),s.input=o("input"),s.label=o("label"),s.p=o("p"),s.section=o("section"),s.span=o("span"),s.li=o("li"),s.table=o("table"),s.thead=o("thead"),s.tbody=o("tbody"),s.tr=o("tr")}}]);