"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8518],{9340:(e,n,i)=>{i.d(n,{R:()=>t,up:()=>o});var a=i(70825);let t=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),t=1;t<n;t++)i[t-1]=arguments[t];try{"function"==typeof window.gtag&&gtag(e,...i)}catch(e){(0,a.Cp)(e)}},o=e=>{t("consent","update",r(e))},r=e=>({ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"})},21642:(e,n,i)=>{i.d(n,{Z:()=>t});var a=i(27062);let t=()=>{let{value:e}=(0,a.fS)("claude_ai_segment_enabled");return e}},35290:(e,n,i)=>{i.d(n,{ConsentProvider:()=>g,S:()=>p});var a=i(54568),t=i(70825),o=i(7620),r=i(96712),s=i(9340),l=i(25558),d=i(46612),c=i(89256),_=i.n(c),v=i(58826);let u=(0,o.createContext)({showConsentBanner:!1,openConsentBanner:_(),preferences:v.ok,savePreferences:_()}),g=e=>{let{children:n,requiresExplicitConsent:i}=e,[c,_,g]=function(e,n){let i=(0,r.l)(),[a,s]=(0,o.useState)(()=>!!i.get(e)),[l,d]=(0,o.useState)(()=>{try{let a=i.get(e);return a?JSON.parse(a):n}catch(i){return(0,t.Cp)(i,{extra:{message:"Malformed JSON cookie",cookieKey:e}}),n}});return[l,(0,o.useCallback)(n=>{i.set(e,JSON.stringify(n)),d(n),s(!0)},[i,e]),a]}(d.eT.CONSENT_PREFERENCES,i?v.ok:v.DX),[p,m]=(0,o.useState)(i&&!g),b=(0,o.useCallback)(e=>{_(e),(0,s.up)(e),m(!1),l.h.updateCategories(e)},[_,m]);return(0,a.jsx)(u.Provider,{value:{showConsentBanner:p,openConsentBanner:()=>m(!0),preferences:c,savePreferences:b},children:n})};function p(){return(0,o.useContext)(u)}},47471:(e,n,i)=>{i.d(n,{BZ:()=>r,YC:()=>o,bu:()=>a,q3:()=>t});let a=e=>{let n=e.capabilities;if(n.includes("api")&&n.includes("chat"))return"unknown";if(n.includes("api"))return n.includes("api_individual")?"api_individual":"api_team";if(n.includes("chat")){if(n.includes("raven")){let n=e.raven_type;return n?"enterprise"===n?"claude_enterprise":"claude_team":"unknown"}return n.includes("claude_max")?"claude_max":n.includes("claude_pro")?"claude_pro":"claude_free"}return"unknown"},t=e=>"claude_pro"===e||"claude_max"===e,o=e=>"claude_team"===e||"claude_enterprise"===e,r=e=>"default_claude_max_5x"===e.rate_limit_tier?"5x":"default_claude_max_20x"===e.rate_limit_tier?"20x":void 0},59983:(e,n,i)=>{i.d(n,{H:()=>s});var a=i(10158),t=i(27062),o=i(7620),r=i(25558);let s=()=>{let{segmentKey:e,segmentCdnHost:n,segmentApiHost:i}=(0,a._r)(),{value:s}=(0,t.fS)("requires_explicit_consent"),l=(0,o.useCallback)(()=>{r.h.reset()},[]);return{analytics:r.h.loadIfNecessary({segmentKey:e,segmentCdnHost:n,segmentApiHost:i,requiresExplicitConsent:s}),reset:l}}},64813:(e,n,i)=>{i.d(n,{IsolatedSegmentProvider:()=>v,U:()=>u});var a=i(54568),t=i(21642),o=i(10158),r=i(27062),s=i(89598),l=i(7620);let d=["onboarding.started","extended_onboarding.started","onboarding.completed","chat.conversation.first_conversation_created","payment_state_success"],c={"onboarding.started":"Started Onboarding","extended_onboarding.started":"Started Onboarding","onboarding.completed":"CompleteRegistration","chat.conversation.first_conversation_created":"NewConversation",payment_state_success:"Purchase"},_=(0,l.createContext)(null);function v(e){let{children:n}=e,{segmentKey:i,segmentCdnHost:v}=(0,o._r)(),u=(0,l.useRef)(null),[g,p]=(0,l.useState)(!1),m=(0,l.useRef)([]),{value:b}=(0,r.fS)("log_segment_events"),f=b&&!0,h=(0,t.Z)(),k=(0,l.useCallback)(function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];f&&console.debug("[IsolatedSegmentProvider]",e,...i)},[f]),y=(0,l.useCallback)(()=>{let e=[...m.current];m.current=[],e.forEach(e=>{var n,i;k("Sending message to iframe:",e,m.current),null==(i=u.current)||null==(n=i.contentWindow)||n.postMessage({target:"isolated-segment",...e},"*")})},[k]),w=(0,l.useCallback)(e=>{var n;m.current.push(e),(null==(n=u.current)?void 0:n.contentWindow)&&(g||"init"===e.type)?y():k("iframe not ready, queueing message:",e)},[k,g,y]);(0,s.M)("message",(0,l.useCallback)(e=>{let n=e.data;if("isolated-segment"===n.source)switch(k("Received message from iframe:",n),n.type){case"iframe_ready":k("Iframe ready, initializing Segment with writeKey:",i,"cdnHost:",v),w({type:"init",writeKey:i,cdnHost:v});break;case"segment_initialized":k("Segment in iframe initialized successfully"),p(!0),k("messageQueue when IsolatedSegment is ready",m.current),y(),m.current=[];break;default:k("Message from isolated-segment iframe:",n.type)}},[v,i,k,w,p,y]));let x=(0,l.useCallback)((e,n,i)=>{if(k("Tracking event:",e,n,i),d.includes(e)){let a=c[e]||e;k("Sending event to Facebook Pixel:",e,a,n),w({type:"track",event:a,properties:n,options:i})}},[k,w]),C=(0,l.useCallback)((e,n)=>{k("Identifying user:",e,n),w({type:"identify",userId:e,traits:n})},[k,w]),S=(0,l.useCallback)(()=>{k("Sending ping..."),w({type:"ping"})},[k,w]),z=(0,l.useMemo)(()=>({isReady:g,track:x,identify:C,sendPing:S}),[g,x,C,S]);return(0,a.jsxs)(_.Provider,{value:z,children:[n,h&&(0,a.jsx)("iframe",{ref:u,src:"/isolated-segment.html",style:{display:"none"},referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin",title:""})]})}function u(){return(0,l.useContext)(_)}},98518:(e,n,i)=>{i.d(n,{d8:()=>w,f:()=>x,st:()=>y,ye:()=>k});var a=i(29585),t=i(46612),o=i(47471),r=i(27062),s=i(16006),l=i(7620),d=i(21642),c=i(77186),_=i(10158),v=i(35290),u=i(96712),g=i(1761),p=i(59983),m=i(64813);let b={snippets_command_used:{version:1},file_upload_too_large:{version:1},sse_interrupted:{version:1},snippets_suggestion_selected:{version:1},payment_modal_open:{version:1},pro_waitlist_requested:{version:1},payment_state_poll_for_invoice:{version:1},payment_state_poll_for_payment:{version:1},payment_state_poll_for_capability:{version:1},payment_state_payment_requires_confirmation:{version:1},payment_state_payment_failed:{version:1},payment_state_success:{version:1},payment_state_timed_out:{version:1},"onboarding.pubsec_system_use.started":{version:1},"onboarding.phone_verification.start":{version:1},"onboarding.phone_verification.sent_code":{version:1},"onboarding.phone_verification.invalid_code":{version:1},"onboarding.phone_verification.verified_code":{version:1},"onboarding.age_verification.start":{version:1},"onboarding.age_verification.complete":{version:1},"onboarding.name_input.started":{version:1},"onboarding.name_input.finished":{version:1},"onboarding.acceptable_use.started":{version:1},"onboarding.acceptable_use.finished":{version:1},"onboarding.disclaimers.started":{version:1},"onboarding.disclaimers.finished":{version:1},"onboarding.started":{version:1},"onboarding.completed":{version:1},"extended_onboarding.started":{version:1},"extended_onboarding.disclaimer.completed":{version:1},"extended_onboarding.name_input.completed":{version:1},"extended_onboarding.work_function.completed":{version:1},"extended_onboarding.drive_integration.started":{version:1},"extended_onboarding.drive_integration.skipped":{version:1},"extended_onboarding.drive_integration.completed":{version:1},"extended_onboarding.gmail_integration.started":{version:1},"extended_onboarding.gmail_integration.skipped":{version:1},"extended_onboarding.gmail_integration.completed":{version:1},"extended_onboarding.gcal_integration.started":{version:1},"extended_onboarding.gcal_integration.skipped":{version:1},"extended_onboarding.gcal_integration.completed":{version:1},"extended_onboarding.all_integrations.skipped":{version:1},"extended_onboarding.all_integrations.completed":{version:1},"extended_onboarding.topics.completed":{version:1},"extended_onboarding.example_prompts.completed":{version:1},"extended_onboarding.completed":{version:1},"extended_onboarding.hear_about.completed":{version:1},"extended_onboarding.hear_about.source_selected":{version:1},"extended_onboarding.hear_about.skipped":{version:1},"pro_subscription.upgraded_to_annual":{version:1},"pro_subscription.upgraded_to_max":{version:1},"max_subscription.downgraded_to_max":{version:1},"max_subscription.downgraded_to_pro":{version:1},"chat.conversation.first_conversation_created":{version:1},"chat.conversation.token_limit_exceeded":{version:1},"chat.conversation.token_limit_will_exceed":{version:1},"chat.conversation.too_long_prompt:loaded":{version:1},"chat.conversation.too_long_prompt:accepted":{version:1},"chat.conversation.too_long_prompt:dismissed":{version:1},"chat.conversation.too_long_prompt_warning:loaded":{version:1},"chat.conversation.too_long_prompt_warning:accepted":{version:1},"chat.conversation.too_long_prompt_warning:dismissed":{version:1},"chat.share.button.clicked":{version:1},"chat.share.modal.share_button.clicked":{version:1},"chat.share.modal.unshare_button.clicked":{version:1},"chat.share.open_link.clicked":{version:1},"chat.share.copy_link.clicked":{version:1},"ts.eu_election_banner.shown":{version:1,data_team_tag:"ts"},"ts.banner.shown":{version:1,data_team_tag:"ts"},"billing.credit_card.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.completed":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire_manual.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.completed":{version:1,data_team_tag:"billing_funnel"},"console.feedback.opened":{version:1},"console.feedback.submitted":{version:1},"evals.revision.created":{version:1},"evals.show_prompt_preview.toggled":{version:1},"evals.show_golden_answers.toggled":{version:1},"evals.run_all.submitted":{version:1},"evals.run_all.stopped":{version:1},"evals.test_case.run.submitted":{version:1},"evals.test_case.run.completed":{version:1},"evals.test_case.run.failed":{version:1},"evals.test_case.create.submitted":{version:1},"evals.test_case.delete.submitted":{version:1},"evals.select_revision.clicked":{version:1},"evals.test_case.update_rating.submitted":{version:1},"evals.test_case.import.show_modal.clicked":{version:1},"evals.test_case.import.browse.clicked":{version:1},"evals.test_case.import.success":{version:1},"evals.comparison.add_button.clicked":{version:1},"evals.comparison.remove_button.clicked":{version:1},"evals.comparison.other_revision.selected":{version:1},"test_case_generator.generate.started":{version:1},"test_case_generator.edit_logic.clicked":{version:1},"metaprompter.modal.loaded":{version:2},"metaprompter.example.selected":{version:1},"metaprompter.generate.started":{version:1},"metaprompter.generate.stop.attempted":{version:1},"metaprompter.generate.finished":{version:1},"metaprompter.start_editing.clicked":{version:1},"onboarding.invite_accept_page.invite_accept.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.invite_reject.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.submitted":{version:1,data_team_tag:"onboarding_funnel"},"workbench.prompt.new":{version:1},"workbench.completion.started":{version:2},"workbench.completion.finished":{version:2},"workbench.completion_stream.started":{version:1},"workbench.completion_stream.finished":{version:1},"workbench.tab_selection.clicked":{version:1},"workbench.variables_pane.loaded":{version:1},"workbench.examples.pane.loaded":{version:1},"workbench.examples.example.added":{version:2},"workbench.examples.example.deleted":{version:1},"workbench.examples.converted_to_raw_text":{version:1},"workbench.code_modal.opened":{version:1},"workbench.code_modal.code_copied":{version:1},"claudeai.projects.list_view.switched":{version:1},"claudeai.artifacts.execution.error":{version:1},"claudeai.conversation.suggestion.applied":{version:1},"claudeai.conversation.recent.opened":{version:1},"claudeai.projects.activity.shared_conversation.opened":{version:1},"claudeai.projects.project_starter.clicked":{version:1},"claudeai.projects.chat_starter.clicked":{version:1},"claudeai.conversation.artifact.vscode_exported":{version:1},"claudeai.settings.preview_feature.toggled":{version:1},"claudeai.settings.preview_feature.opened":{version:1},"claudeai.support.opened":{version:1},"claudeai.get_help.clicked":{version:1},"claudeai.conversation.feedback.sent":{version:1},"claudeai.conversation.setting.toggled":{version:1},"claudeai.thinking_cell.clicked":{version:1},"ccos.chatsuggestion.clicked":{version:1},"ccos.chatsuggestions.loaded":{version:1},"ccos.chatsuggestions.feedback":{version:1},"styles.selector.clicked":{version:1},"styles.modal":{version:1},"styles.nux.create_clicked":{version:1},"styles.custom.create_clicked":{version:1},"styles.custom.describe_clicked":{version:1},"styles.custom.describe_selected":{version:1},"styles.selected":{version:1},"artifact.feedback.sentiment":{version:1},"artifact.feedback.note":{version:1},"artifact.share_button_clicked":{version:1},"artifact.publish_button_clicked":{version:1},"artifact.share.modal.share_button_clicked":{version:1},"artifact.publish.modal.publish_button_clicked":{version:1},"artifact.studio.create_button_clicked":{version:1},"artifact.studio.create_mode_selected":{version:1},"artifact.studio.remix":{version:1},"artifact.studio.view_full_chat":{version:1},"artifact.studio.copy_prompt":{version:1},"artifact.popover.artifacts_tab_clicked":{version:1},"artifact.popover.dismiss_button_clicked":{version:1},"artifact.popover.dismiss_x_clicked":{version:1},"artifact.interaction.click":{version:1},"artifact.callout.learn_more_clicked":{version:1},"artifact.callout.enable_clicked":{version:1},"artifact.callout.dismissed":{version:1},"artifact.public.remix":{version:1},"artifact.public.share":{version:1},"claudeai.mcp.tool.toggled":{version:1},"claudeai.mcp.create_server":{version:1},"claudeai.mcp.auth.init":{version:1},"claudeai.mcp.auth.completed":{version:1},"claudeai.mcp.directory.page_view":{version:1},"mcp.servers.listed":{version:1},"mcp.servers.connected":{version:1},"mcp.resources.listed":{version:1},"mcp.resources.read":{version:1},"mcp.prompts.listed":{version:1},"mcp.prompts.used":{version:1},"mcp.tools.listed":{version:1},"mcp.tools.called":{version:1},"mcp.sampling.requested":{version:1},"mcp.websocket.transport.connected":{version:1},"mcp.websocket.authfailure":{version:1},"mcp.websocket.transport.reconnected":{version:1},"harmony.file.saved":{version:1},"harmony.suggestion.accepted":{version:1},"harmony.suggestion.rejected":{version:1},"hfi.comparative_model.selected":{version:1},"hfi.comparative_model.selection_cleared":{version:1},"hfi.comparative_model.streaming.started":{version:1},"hfi.comparative_model.streaming.finished":{version:1},"hfi.comparative_model.feedback_bar.switch_response.clicked":{version:1},"hfi.comparative_model.feedback_bar.prefer_response.clicked":{version:1},"apps.download_button_clicked":{version:1},"apps.nudge_banner_shown":{version:1},"apps.nudge_banner_clicked":{version:1},"apps.harmony_directory_synced":{version:1},"console.onboarding.name_and_legal.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.name_and_legal.submitted":{version:1,data_team_tag:"onboarding_funnel"},"tengu.waitlist.update":{version:1},"tengu.waitlist.details":{version:1},"oauth.authorize.approved":{version:1},"oauth.authorize.denied":{version:1},"oauth.authorize.success":{version:1},"oauth.authorize.failure":{version:1},"console.onboarding.account_type.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.individual_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.organization_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.submitted":{version:1,data_team_tag:"onboarding_funnel"},"console.navigation.nav_item.clicked":{version:1},"login.account.created":{version:1},"login.email.sending_magic_link":{version:1},"login.email.magic_link_sent":{version:1},"login.email.magic_link_send_error":{version:1},"login.email.verifying_magic_link":{version:1},"login.email.magic_link_success":{version:1},"login.email.magic_link_verification_error":{version:1},"login.email.sso_initiated":{version:1},"login.email.sso_success":{version:1},"login.email.sso_verifying_callback":{version:1},"login.email.sso_verification_error":{version:1},"login.email.verifying_code":{version:1},"login.email.code_verification_error":{version:1},"login.email.finished":{version:1},"login.google.started":{version:1},"login.google.error":{version:1},"login.google.verifying":{version:1},"login.google.verification_error":{version:1},"login.google.finished":{version:1},"landing.section.features.viewed":{version:1},"landing.section.pricing.viewed":{version:1},"spotlight.shown":{version:1},"spotlight.dismissed":{version:1},"spotlight.action_clicked":{version:1},"claudeai.conversation.citation_clicked":{version:1},"claudeai.in_chat_upsell.connect_gdrive.start":{version:1},"claudeai.in_chat_upsell.dismiss":{version:1},"claudeai.cardamom_prompts.category_displayed":{version:1},"claudeai.cardamom_prompts.prompt_displayed":{version:1},"claudeai.cardamom_prompts.prompt_used":{version:1},"artifactinlinefeedback.selection.clicked":{version:1},"claudeai.toast.shown":{version:1},"claudeai.toast.dismissed":{version:1},"claudeai.toast.cta_clicked":{version:1},"claudeai.invite_contest.clicked":{version:1},"claudeai.invite_contest.dismissed":{version:1},"claudeai.notification.permission.request_started":{version:1},"claudeai.notification.permission.result":{version:1},"claudeai.pricing.plan_toggled":{version:1},"claudeai.pricing.max_plan_toggled":{version:1},"claudeai.pricing.promo_applied":{version:1},"claudeai.pricing.payment_modal.viewed":{version:1},"claudeai.pricing.payment_form_submitted":{version:1},"claudeai.pricing.payment_failed":{version:1},"claudeai.teams.existing_subscription_warning_modal.viewed":{version:1},"claudeai.teams.minimum_seats_warning_modal.accepted":{version:1},"claudeai.teams.minimum_seats_warning_modal.viewed":{version:1},"claudeai.teams.name_entered":{version:1},"claudeai.login.resend_requested":{version:1},"claudeai.login.email_submitted":{version:1}},f=()=>{var e;return{userAgent:null==(e=window.navigator)?void 0:e.userAgent,fbc:u.m.get(t.eT.FBCLID),gclid:u.m.get(t.eT.GOOGLE_GCL_AW)}};function h(e,n){let i={...f()};if((null==e?void 0:e.email_address)&&(i.email=e.email_address),e){var a,t;i.account_created_at=Date.parse(e.created_at),i.account_uuid=e.uuid;let r=n||(null==(t=e.memberships)||null==(a=t[0])?void 0:a.organization);if(r){i.organization_uuid=r.uuid,i.billing_type=r.billing_type;let e=(0,o.bu)(r),n=(0,o.BZ)(r);i.org_type=e,i.subscription_plan="claude_max"===e&&n?"".concat(e," ").concat(n):e}}return i}let k=()=>{let{account:e,activeOrganization:n}=(0,g.YL)();return(0,l.useMemo)(()=>h(e,n),[e,n])},y=()=>{let{analytics:e}=(0,p.H)(),n=(0,m.U)(),{preferences:i}=(0,v.S)(),{value:a}=(0,r.fS)("log_segment_events"),t=(0,d.Z)(),{account:o,activeOrganization:s,isLoading:c}=(0,g.YL)(),u=(0,_.fZ)(),f=null==o?void 0:o.uuid,k=null==s?void 0:s.uuid,y=null==s?void 0:s.billing_type,w=(0,l.useCallback)(n=>{let a=!n&&!o;return!c&&e&&t&&(!a||i.analytics)},[c,e,t,o,i.analytics]),x=(0,l.useCallback)(e=>h(null!=e?e:o,s),[o,s]),C=(0,l.useCallback)(async(i,t)=>{var o;let{event_key:r,...s}=i,l={account_uuid:null!=(o=null==t?void 0:t.uuid)?o:f,organization_uuid:k,billing_type:y,surface:u?"claude-ai":"console",...b[r],...s},d={context:{traits:x(t)}};a&&console.log("[Segment Event] track: ".concat(r),l,d),w(t)&&(await (null==e?void 0:e.track(r,l,d)),null==n||n.track(r,l,d))},[e,n,f,k,y,u,a,w,x]),S=(0,l.useCallback)(async(i,t)=>{a&&console.log("[Segment Event] identify: ".concat(i),t),w()&&(await (null==e?void 0:e.identify(i,t)),null==n||n.identify(i,t))},[e,n,w,a]),z=(0,l.useCallback)(async(n,i)=>{a&&console.log("[Segment Event] alias: ".concat(i," -> ").concat(n)),w()&&await (null==e?void 0:e.alias(n,i))},[e,w,a]),E=(0,l.useCallback)(async(n,i)=>{var t,r,s;if(a&&console.log("[Segment Event] page_view: ".concat(n),i),w())(null!=(r=null==(t=await (null==e?void 0:e.user()))?void 0:t.id())?r:void 0)===(null!=(s=null==o?void 0:o.uuid)?s:void 0)&&await (null==e?void 0:e.page(n,i))},[e,w,o,a]);return(0,l.useMemo)(()=>({track:C,identify:S,page:E,alias:z,getTraitsWithContext:x}),[C,S,E,z,x])},w=(e,n,i,t)=>{let o=y(),{onSuccess:r,onError:s,...l}=t||{};return(0,c.L2)(n,i,{onSuccess(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];o.track({event_key:e,result:"success"}),null==r||r(...i)},onError(n){let i;for(var t=arguments.length,r=Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];n instanceof a.LG&&(i=n.type),o.track({event_key:e,result:"failure",failure_reason:i}),null==s||s(n,...r)},...l})},x=e=>{var n;let{eventKey:i,threshold:a=.5,freezeOnceVisible:t=!0}=e,{track:o}=y(),r=(0,l.useRef)(!1),{ref:d,entry:c}=(0,s.v)({threshold:a}),_=null!=(n=null==c?void 0:c.isIntersecting)&&n;return(0,l.useEffect)(()=>{!_||t&&r.current||(o({event_key:i}),r.current=!0)},[_,o,i,t]),d}}}]);